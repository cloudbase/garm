import"../chunks/DsnmJJEf.js";import{i as pt}from"../chunks/B3Pzt0F_.js";import{p as bt,g as e,o as gt,l as Z,a as ft,f as I,e as b,h as _t,b as Ee,c as j,d as mt,m as p,i as yt,$ as vt,j as o,q as Ce,k as a,t as me,u as E,s,r as i,n as se,v as ne,w as De,z as V,y as g}from"../chunks/D8EpLgQ1.js";import{i as de,s as xt,a as ht}from"../chunks/5WA7h8uK.js";import{h as kt,r as U,c as je,s as Ie,g as ee}from"../chunks/CiE1LlKV.js";import{b as C}from"../chunks/C6k1Q4We.js";import{p as Ge}from"../chunks/D4Caz1gY.js";import{P as wt}from"../chunks/CO4LUyTP.js";import{F as Et}from"../chunks/CNMHKIIK.js";import{D as Ct,A as ze,G as Pe,a as Pt}from"../chunks/C9DJVOi1.js";import{e as $t,a as qe}from"../chunks/wyaP0EDu.js";import{t as ye}from"../chunks/BEkVdVE1.js";import{g as $e,c as Rt,a as At,p as Bt}from"../chunks/BGVHQGl-.js";import"../chunks/CoIRRsD9.js";import{E as Ut}from"../chunks/CGpPw4EW.js";var Lt=I('<div class="flex items-center justify-between"><div class="flex-1 min-w-0"><div class="block"><p class="text-sm font-medium text-gray-900 dark:text-white truncate"> </p> <p class="text-sm text-gray-500 dark:text-gray-400 truncate mt-1"> </p> <div class="flex items-center mt-2"><!> <span class="ml-2 text-xs text-gray-500 dark:text-gray-400 capitalize"> </span></div></div></div> <div class="flex space-x-2 ml-4"><!> <!></div></div>'),Mt=I('<div><label for="api_base_url" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">API Base URL <span class="text-red-500">*</span></label> <input type="url" id="api_base_url" required class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white" placeholder="https://api.github.com or https://github.example.com/api/v3"/></div> <div><label for="upload_base_url" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Upload Base URL</label> <input type="url" id="upload_base_url" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white" placeholder="https://uploads.github.com"/></div>',1),Tt=I('<div><label for="api_base_url" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">API Base URL <span class="text-xs text-gray-500">(optional)</span></label> <input type="url" id="api_base_url" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white" placeholder="https://gitea.example.com/api/v1 (leave empty to use Base URL)"/> <p class="text-xs text-gray-500 dark:text-gray-400 mt-1">If empty, Base URL will be used as API Base URL</p></div>'),Ft=I('<div class="fixed inset-0 flex items-center justify-center z-50" role="dialog" aria-modal="true"><button class="fixed inset-0 w-full h-full bg-black/30 dark:bg-black/50 cursor-default" aria-label="Close modal"></button> <div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-screen overflow-y-auto relative z-10" role="document"><div class="px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center"><div><h3 class="text-lg font-semibold text-gray-900 dark:text-white">Add Endpoint</h3> <p class="text-sm text-gray-600 dark:text-gray-400 mt-1">Connect to GitHub or Gitea for runner management</p></div> <button class="text-gray-400 hover:text-gray-600 dark:text-gray-300 dark:hover:text-gray-100 cursor-pointer" aria-label="Close modal"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <form class="p-6 space-y-4"><!> <div><label for="name" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Endpoint Name <span class="text-red-500">*</span></label> <input type="text" id="name" required class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"/></div> <div><label for="description" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Description <span class="text-red-500">*</span></label> <textarea id="description" rows="2" required class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white" placeholder="Brief description of this endpoint"></textarea></div> <div><label for="base_url" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Base URL <span class="text-red-500">*</span></label> <input type="url" id="base_url" required class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"/></div> <!> <div class="space-y-3 border-t border-gray-200 dark:border-gray-700 pt-4"><label for="ca_cert_file" class="block text-sm font-medium text-gray-700 dark:text-gray-300">CA Certificate Bundle (Optional)</label> <div class="border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-4 text-center hover:border-blue-400 dark:hover:border-blue-400 transition-colors"><input type="file" id="ca_cert_file" accept=".pem,.crt,.cer,.cert" class="hidden"/> <div class="space-y-2"><svg class="mx-auto h-8 w-8 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg> <p class="text-sm text-gray-600 dark:text-gray-400"><button type="button" class="text-gray-900 dark:text-white hover:text-gray-700 dark:hover:text-gray-300 hover:underline cursor-pointer">Choose a file</button> or drag and drop</p> <p class="text-xs text-gray-500 dark:text-gray-400">PEM, CRT, CER, CERT files only</p></div></div></div> <div class="flex justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700"><button type="button" class="px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-600 hover:bg-gray-200 dark:hover:bg-gray-500 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 cursor-pointer">Cancel</button> <button type="submit">Create Endpoint</button></div></form></div></div>'),Dt=I('<div><label for="edit_api_base_url" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">API Base URL <span class="text-red-500">*</span></label> <input type="url" id="edit_api_base_url" required class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"/></div> <div><label for="edit_upload_base_url" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Upload Base URL</label> <input type="url" id="edit_upload_base_url" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"/></div>',1),jt=I('<div><label for="edit_api_base_url" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">API Base URL <span class="text-xs text-gray-500">(optional)</span></label> <input type="url" id="edit_api_base_url" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"/> <p class="text-xs text-gray-500 dark:text-gray-400 mt-1">If empty, Base URL will be used as API Base URL</p></div>'),It=I('<div class="fixed inset-0 flex items-center justify-center z-50" role="dialog" aria-modal="true"><button class="fixed inset-0 w-full h-full bg-black/30 dark:bg-black/50 cursor-default" aria-label="Close modal"></button> <div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-screen overflow-y-auto relative z-10" role="document"><div class="px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center"><div><h3 class="text-lg font-semibold text-gray-900 dark:text-white"> </h3> <p class="text-sm text-gray-600 dark:text-gray-400 mt-1">Update endpoint configuration</p></div> <button class="text-gray-400 hover:text-gray-600 dark:text-gray-300 dark:hover:text-gray-100 cursor-pointer" aria-label="Close modal"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <form class="p-6 space-y-4"><div><label for="edit_name" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Endpoint Name <span class="text-red-500">*</span></label> <input type="text" id="edit_name" required class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"/></div> <div><label for="edit_description" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Description <span class="text-red-500">*</span></label> <textarea id="edit_description" rows="2" required class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"></textarea></div> <div><label for="edit_base_url" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Base URL <span class="text-red-500">*</span></label> <input type="url" id="edit_base_url" required class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"/></div> <!> <div class="space-y-3 border-t border-gray-200 dark:border-gray-700 pt-4"><label for="edit_ca_cert_file" class="block text-sm font-medium text-gray-700 dark:text-gray-300">CA Certificate Bundle (Optional)</label> <div class="border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-4 text-center hover:border-blue-400 dark:hover:border-blue-400 transition-colors"><input type="file" id="edit_ca_cert_file" accept=".pem,.crt,.cer,.cert" class="hidden"/> <div class="space-y-2"><svg class="mx-auto h-8 w-8 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg> <p class="text-sm text-gray-600 dark:text-gray-400"><button type="button" class="text-gray-900 dark:text-white hover:text-gray-700 dark:hover:text-gray-300 hover:underline cursor-pointer">Choose a file</button> or drag and drop</p> <p class="text-xs text-gray-500 dark:text-gray-400">PEM, CRT, CER, CERT files only</p></div></div></div> <div class="flex justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700"><button type="button" class="px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-600 hover:bg-gray-200 dark:hover:bg-gray-500 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 cursor-pointer">Cancel</button> <button type="submit">Update Endpoint</button></div></form></div></div>'),Gt=I('<div class="fixed inset-0 flex items-center justify-center z-50" role="dialog" aria-modal="true"><button class="fixed inset-0 w-full h-full bg-black/30 dark:bg-black/50 cursor-default" aria-label="Close modal"></button> <div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-xl w-full mx-4 relative z-10" role="document"><div class="px-6 py-4"><div class="flex items-center"><div class="flex-shrink-0"><svg class="h-6 w-6 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"></path></svg></div> <div class="ml-3"><h3 class="text-lg font-medium text-gray-900 dark:text-white">Delete Endpoint</h3> <p class="mt-2 text-sm text-gray-500 dark:text-gray-300"> </p></div></div></div> <div class="px-6 py-4 border-t border-gray-200 dark:border-gray-700 flex justify-end space-x-3"><button type="button" class="px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-600 hover:bg-gray-200 dark:hover:bg-gray-500 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 cursor-pointer">Cancel</button> <button type="button" class="px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 cursor-pointer">Delete</button></div></div></div>'),zt=I('<div class="space-y-6"><!> <!></div> <!> <!> <!>',1);function rr(He,Ne){bt(Ne,!1);const[Se,Ve]=xt(),q=()=>ht($t,"$eagerCache",Se),ve=p(),H=p(),Re=p();let le=p(!0),O=p([]),te=p(""),ue=p(""),L=p(1),K=p(25),J=p(1),ce=p(!1),pe=p(!1),be=p(!1),G=p("github"),m=p(null),R=p(null),r=p({name:"",description:"",endpoint_type:"",base_url:"",api_base_url:"",upload_base_url:"",ca_cert_bundle:""}),k={...e(r)};gt(async()=>{try{s(le,!0);const t=await qe.getEndpoints();t&&Array.isArray(t)&&s(O,t)}catch(t){console.error("Failed to load endpoints:",t),s(te,t instanceof Error?t.message:"Failed to load endpoints")}finally{s(le,!1)}});async function Oe(){try{await qe.retryResource("endpoints")}catch(t){console.error("Retry failed:",t)}}const Ke=[{key:"name",title:"Name",cellComponent:Pe,cellProps:{field:"name"}},{key:"description",title:"Description",cellComponent:Pe,cellProps:{field:"description"}},{key:"api_url",title:"API URL",cellComponent:Pe,cellProps:{field:"api_base_url",fallbackField:"base_url"}},{key:"forge_type",title:"Forge Type",cellComponent:Ut},{key:"actions",title:"Actions",align:"right",cellComponent:Pt}],Je={entityType:"endpoint",primaryText:{field:"name",isClickable:!1},secondaryText:{field:"description"},customInfo:[{icon:t=>$e(t?.endpoint_type||"unknown"),text:t=>t?.api_base_url||"Unknown"}],actions:[{type:"edit",handler:t=>xe(t)},{type:"delete",handler:t=>he(t)}]};function Qe(t){s(ue,t.detail.term),s(L,1)}function We(t){s(L,t.detail.page)}function Xe(t){const d=Rt(t.detail.perPage);s(K,d.newPerPage),s(L,d.newCurrentPage)}function Ye(t){xe(t.detail.item)}function Ze(t){he(t.detail.item)}function et(){s(G,"github"),Ae(),s(ce,!0)}function tt(t){s(G,t.detail),g(r,e(r).endpoint_type=t.detail)}function xe(t){s(m,t),s(r,{name:t.name||"",description:t.description||"",endpoint_type:t.endpoint_type||"",base_url:t.base_url||"",api_base_url:t.api_base_url||"",upload_base_url:t.upload_base_url||"",ca_cert_bundle:typeof t.ca_cert_bundle=="string"?t.ca_cert_bundle:""}),k={...e(r)},s(pe,!0)}function he(t){s(R,t),s(be,!0)}function Ae(){s(r,{name:"",description:"",endpoint_type:"",base_url:"",api_base_url:"",upload_base_url:"",ca_cert_bundle:""}),k={...e(r)}}function rt(t){t.key==="Escape"&&(e(ce)||e(pe)||e(be))&&y()}function y(){s(ce,!1),s(pe,!1),s(be,!1),s(G,"github"),s(m,null),s(R,null),Ae()}function at(){const t={};if(e(r).description!==k.description&&(e(r).description.trim()!==""||k.description!=="")&&(t.description=e(r).description.trim()),e(r).base_url!==k.base_url&&e(r).base_url.trim()!==""&&(t.base_url=e(r).base_url.trim()),e(r).api_base_url!==k.api_base_url&&(e(r).api_base_url.trim()!==""||k.api_base_url!=="")&&(t.api_base_url=e(r).api_base_url.trim()),e(m)?.endpoint_type==="github"&&e(r).upload_base_url!==k.upload_base_url&&(e(r).upload_base_url.trim()!==""||k.upload_base_url!=="")&&(t.upload_base_url=e(r).upload_base_url.trim()),e(r).ca_cert_bundle!==k.ca_cert_bundle)if(e(r).ca_cert_bundle!=="")try{const d=atob(e(r).ca_cert_bundle);t.ca_cert_bundle=Array.from(d,c=>c.charCodeAt(0))}catch{k.ca_cert_bundle!==""&&(t.ca_cert_bundle=[])}else k.ca_cert_bundle!==""&&(t.ca_cert_bundle=[]);return t}async function ot(){try{const t={name:e(r).name,description:e(r).description,endpoint_type:e(r).endpoint_type,base_url:e(r).base_url,api_base_url:e(r).api_base_url,upload_base_url:e(r).upload_base_url};if(e(r).ca_cert_bundle&&e(r).ca_cert_bundle.trim()!=="")try{const d=atob(e(r).ca_cert_bundle);t.ca_cert_bundle=Array.from(d,c=>c.charCodeAt(0))}catch{}e(r).endpoint_type==="github"?await ee.createGithubEndpoint(t):await ee.createGiteaEndpoint(t),ye.success("Endpoint Created",`Endpoint ${e(r).name} has been created successfully.`),y()}catch(t){s(te,t instanceof Error?t.message:"Failed to create endpoint")}}async function it(){if(e(m))try{const t=at();if(Object.keys(t).length===0){ye.info("No Changes","No fields were modified."),y();return}e(m).endpoint_type==="github"?await ee.updateGithubEndpoint(e(m).name,t):await ee.updateGiteaEndpoint(e(m).name,t),ye.success("Endpoint Updated",`Endpoint ${e(m).name} has been updated successfully.`),y()}catch(t){s(te,t instanceof Error?t.message:"Failed to update endpoint")}}async function st(){if(e(R))try{e(R).endpoint_type==="github"?await ee.deleteGithubEndpoint(e(R).name):await ee.deleteGiteaEndpoint(e(R).name),ye.success("Endpoint Deleted",`Endpoint ${e(R).name} has been deleted successfully.`),y()}catch(t){s(te,t instanceof Error?t.message:"Failed to delete endpoint")}}function Be(t){const c=t.target.files?.[0];if(!c){g(r,e(r).ca_cert_bundle="");return}const v=new FileReader;v.onload=n=>{const f=n.target?.result;g(r,e(r).ca_cert_bundle=btoa(f))},v.readAsText(c)}function ge(){return!(!e(r).name||!e(r).description||!e(r).base_url||e(r).endpoint_type==="github"&&!e(r).api_base_url)}Z(()=>(e(O),q()),()=>{(!e(O).length||q().loaded.endpoints)&&s(O,q().endpoints)}),Z(()=>q(),()=>{s(le,q().loading.endpoints)}),Z(()=>q(),()=>{s(ve,q().errorMessages.endpoints)}),Z(()=>(e(O),e(ue)),()=>{s(H,At(e(O),e(ue)))}),Z(()=>(e(J),e(H),e(K),e(L)),()=>{s(J,Math.ceil(e(H).length/e(K))),e(L)>e(J)&&e(J)>0&&s(L,e(J))}),Z(()=>(e(H),e(L),e(K)),()=>{s(Re,Bt(e(H),e(L),e(K)))}),ft(),pt();var Ue=zt();b("keydown",yt,rt),_t(t=>{vt.title="Endpoints - GARM"});var ke=Ee(Ue),Le=o(ke);wt(Le,{title:"Endpoints",description:"Manage your GitHub and Gitea endpoints for runner management.",actionLabel:"Add Endpoint",$$events:{action:et}});var nt=a(Le,2);{let t=Ce(()=>e(ve)||e(te)),d=Ce(()=>!!e(ve));Ct(nt,{get columns(){return Ke},get data(){return e(Re)},get loading(){return e(le)},get error(){return e(t)},get searchTerm(){return e(ue)},searchPlaceholder:"Search endpoints by name, description, or URL...",get currentPage(){return e(L)},get perPage(){return e(K)},get totalPages(){return e(J)},get totalItems(){return e(H),E(()=>e(H).length)},itemName:"endpoints",emptyIconType:"settings",get showRetry(){return e(d)},get mobileCardConfig(){return Je},$$events:{search:Qe,pageChange:We,perPageChange:Xe,retry:Oe,edit:Ye,delete:Ze},$$slots:{"mobile-card":(c,v)=>{const n=Ce(()=>v.item);var f=Lt(),x=o(f),A=o(x),P=o(A),w=o(P,!0);i(P);var _=a(P,2),M=o(_,!0);i(_);var B=a(_,2),T=o(B);kt(T,()=>(se($e),se(e(n)),E(()=>$e(e(n).endpoint_type||"","w-5 h-5"))));var F=a(T,2),Q=o(F,!0);i(F),i(B),i(A),i(x);var N=a(x,2),z=o(N);ze(z,{action:"edit",size:"sm",title:"Edit endpoint",ariaLabel:"Edit endpoint",$$events:{click:()=>xe(e(n))}});var W=a(z,2);ze(W,{action:"delete",size:"sm",title:"Delete endpoint",ariaLabel:"Delete endpoint",$$events:{click:()=>he(e(n))}}),i(N),i(f),me(()=>{ne(w,(se(e(n)),E(()=>e(n).name))),ne(M,(se(e(n)),E(()=>e(n).description))),ne(Q,(se(e(n)),E(()=>e(n).endpoint_type)))}),j(c,f)}}})}i(ke);var Me=a(ke,2);{var dt=t=>{var d=Ft(),c=o(d),v=a(c,2),n=o(v),f=a(o(n),2);i(n);var x=a(n,2),A=o(x);Et(A,{get selectedForgeType(){return e(G)},set selectedForgeType(u){s(G,u)},$$events:{select:tt},$$legacy:!0});var P=a(A,2),w=a(o(P),2);U(w),i(P);var _=a(P,2),M=a(o(_),2);De(M),i(_);var B=a(_,2),T=a(o(B),2);U(T),i(B);var F=a(B,2);{var Q=u=>{var $=Mt(),l=Ee($),h=a(o(l),2);U(h),i(l);var D=a(l,2),S=a(o(D),2);U(S),i(D),C(h,()=>e(r).api_base_url,Y=>g(r,e(r).api_base_url=Y)),C(S,()=>e(r).upload_base_url,Y=>g(r,e(r).upload_base_url=Y)),j(u,$)},N=u=>{var $=Tt(),l=a(o($),2);U(l),V(2),i($),C(l,()=>e(r).api_base_url,h=>g(r,e(r).api_base_url=h)),j(u,$)};de(F,u=>{e(G)==="github"?u(Q):u(N,!1)})}var z=a(F,2),W=a(o(z),2),X=o(W),re=a(X,2),ae=a(o(re),2),fe=o(ae);V(),i(ae),V(2),i(re),i(W),i(z);var oe=a(z,2),_e=o(oe),ie=a(_e,2);i(oe),i(x),i(v),i(d),me((u,$)=>{je(w,"placeholder",e(G)==="github"?"e.g., github-enterprise or github-com":"e.g., gitea-main or my-gitea"),je(T,"placeholder",e(G)==="github"?"https://github.com or https://github.example.com":"https://gitea.example.com"),ie.disabled=u,Ie(ie,1,`px-4 py-2 text-sm font-medium text-white rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors
							${$??""}`)},[()=>E(()=>!ge()),()=>E(()=>ge()?"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500 cursor-pointer":"bg-gray-400 cursor-not-allowed")]),b("click",c,y),b("click",f,y),C(w,()=>e(r).name,u=>g(r,e(r).name=u)),C(M,()=>e(r).description,u=>g(r,e(r).description=u)),C(T,()=>e(r).base_url,u=>g(r,e(r).base_url=u)),b("change",X,Be),b("click",fe,()=>document.getElementById("ca_cert_file")?.click()),b("click",_e,y),b("submit",x,Ge(ot)),j(t,d)};de(Me,t=>{e(ce)&&t(dt)})}var Te=a(Me,2);{var lt=t=>{var d=It(),c=o(d),v=a(c,2),n=o(v),f=o(n),x=o(f),A=o(x);i(x),V(2),i(f);var P=a(f,2);i(n);var w=a(n,2),_=o(w),M=a(o(_),2);U(M),i(_);var B=a(_,2),T=a(o(B),2);De(T),i(B);var F=a(B,2),Q=a(o(F),2);U(Q),i(F);var N=a(F,2);{var z=l=>{var h=Dt(),D=Ee(h),S=a(o(D),2);U(S),i(D);var Y=a(D,2),Fe=a(o(Y),2);U(Fe),i(Y),C(S,()=>e(r).api_base_url,we=>g(r,e(r).api_base_url=we)),C(Fe,()=>e(r).upload_base_url,we=>g(r,e(r).upload_base_url=we)),j(l,h)},W=l=>{var h=jt(),D=a(o(h),2);U(D),V(2),i(h),C(D,()=>e(r).api_base_url,S=>g(r,e(r).api_base_url=S)),j(l,h)};de(N,l=>{e(m),E(()=>e(m).endpoint_type==="github")?l(z):l(W,!1)})}var X=a(N,2),re=a(o(X),2),ae=o(re),fe=a(ae,2),oe=a(o(fe),2),_e=o(oe);V(),i(oe),V(2),i(fe),i(re),i(X);var ie=a(X,2),u=o(ie),$=a(u,2);i(ie),i(w),i(v),i(d),me((l,h)=>{ne(A,`Edit ${e(m),E(()=>e(m).endpoint_type==="github"?"GitHub":"Gitea")??""} Endpoint`),$.disabled=l,Ie($,1,`px-4 py-2 text-sm font-medium text-white rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors
							${h??""}`)},[()=>E(()=>!ge()),()=>E(()=>ge()?"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500 cursor-pointer":"bg-gray-400 cursor-not-allowed")]),b("click",c,y),b("click",P,y),C(M,()=>e(r).name,l=>g(r,e(r).name=l)),C(T,()=>e(r).description,l=>g(r,e(r).description=l)),C(Q,()=>e(r).base_url,l=>g(r,e(r).base_url=l)),b("change",ae,Be),b("click",_e,()=>document.getElementById("edit_ca_cert_file")?.click()),b("click",u,y),b("submit",w,Ge(it)),j(t,d)};de(Te,t=>{e(pe)&&e(m)&&t(lt)})}var ut=a(Te,2);{var ct=t=>{var d=Gt(),c=o(d),v=a(c,2),n=o(v),f=o(n),x=a(o(f),2),A=a(o(x),2),P=o(A);i(A),i(x),i(f),i(n);var w=a(n,2),_=o(w),M=a(_,2);i(w),i(v),i(d),me(()=>ne(P,`Are you sure you want to delete the endpoint "${e(R),E(()=>e(R).name)??""}"? This action cannot be undone.`)),b("click",c,y),b("click",_,y),b("click",M,st),j(t,d)};de(ut,t=>{e(be)&&e(R)&&t(ct)})}j(He,Ue),mt(),Ve()}export{rr as component};
