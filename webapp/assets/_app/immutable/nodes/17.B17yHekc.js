import"../chunks/DsnmJJEf.js";import{i as kr}from"../chunks/DT0EGONV.js";import{p as wr,E as Hr,o as Sr,f as k,k as a,j as o,g as e,m as i,r as s,t as _,s as r,e as be,c as p,v as re,b as $r,z as fr,y as Se,D as We,d as Cr,l as q,a as Ur,h as jr,$ as Nr,q as Ke,u as yr,n as qr}from"../chunks/CRKWEg6v.js";import{i as T,s as Or,a as Fr}from"../chunks/e1m7WRO5.js";import{r as D,s as Qe,b as $e,g as E}from"../chunks/PY0OOjWY.js";import{P as Br}from"../chunks/MvuzmHPl.js";import{e as hr,i as xr}from"../chunks/C73ZVvpW.js";import{b as G,a as Jr}from"../chunks/B3a35v7J.js";import{p as Vr}from"../chunks/D4Caz1gY.js";import{M as Pr}from"../chunks/XtdMJsQa.js";import{J as Wr}from"../chunks/D2iLJzzb.js";import{e as H}from"../chunks/BZiHL9L3.js";import{U as Kr}from"../chunks/ClJ8onkK.js";import{D as Qr}from"../chunks/DJ85e5Cv.js";import{D as Xr,G as Xe,a as Yr,L as Zr}from"../chunks/Co9OVDfV.js";import{e as et,a as _r}from"../chunks/BoOhv-0Q.js";import{t as te}from"../chunks/D6DjlyIQ.js";import{e as ve,h as rt}from"../chunks/BK-OTA7g.js";import{E as tt}from"../chunks/QGyLbggC.js";import{E as at}from"../chunks/C0ude0fo.js";import{S as ot}from"../chunks/BVEuSEJl.js";import{P as st}from"../chunks/DMRkWx6-.js";import"../chunks/BBO7sjS5.js";var lt=k('<div class="rounded-md bg-red-50 dark:bg-red-900 p-4"><p class="text-sm font-medium text-red-800 dark:text-red-200"> </p></div>'),it=k('<div class="animate-pulse bg-gray-200 dark:bg-gray-700 h-10 rounded"></div>'),dt=k("<option><!></option>"),nt=k('<select id="entity" required class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"><option> </option><!></select>'),ct=k('<div class="animate-pulse bg-gray-200 dark:bg-gray-700 h-10 rounded"></div>'),ut=k("<option> </option>"),gt=k('<select id="provider" required class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"><option>Select a provider</option><!></select>'),bt=k('<div class="space-y-4"><h3 class="text-lg font-medium text-gray-900 dark:text-white border-b border-gray-200 dark:border-gray-700 pb-2">Entity & Provider Configuration</h3> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><label for="entity" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"> <span class="text-red-500">*</span></label> <!></div> <div><label for="provider" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Provider <span class="text-red-500">*</span></label> <!></div></div></div> <div class="space-y-4"><h3 class="text-lg font-medium text-gray-900 dark:text-white border-b border-gray-200 dark:border-gray-700 pb-2">Image & OS Configuration</h3> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><label for="image" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Image <span class="text-red-500">*</span></label> <input id="image" type="text" required placeholder="e.g., ubuntu:22.04" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"/></div> <div><label for="flavor" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Flavor <span class="text-red-500">*</span></label> <input id="flavor" type="text" required placeholder="e.g., default" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"/></div> <div><label for="osType" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">OS Type</label> <select id="osType" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"><option>Linux</option><option>Windows</option></select></div> <div><label for="osArch" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Architecture</label> <select id="osArch" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"><option>AMD64</option><option>ARM64</option></select></div></div></div> <div class="space-y-4"><h3 class="text-lg font-medium text-gray-900 dark:text-white border-b border-gray-200 dark:border-gray-700 pb-2">Runner Limits & Timing</h3> <div class="grid grid-cols-1 md:grid-cols-3 gap-4"><div><label for="minIdleRunners" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Min Idle Runners</label> <input id="minIdleRunners" type="number" min="0" placeholder="0" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"/></div> <div><label for="maxRunners" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Max Runners</label> <input id="maxRunners" type="number" min="1" placeholder="10" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"/></div> <div><label for="bootstrapTimeout" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Bootstrap Timeout (min)</label> <input id="bootstrapTimeout" type="number" min="1" placeholder="20" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"/></div></div></div> <div class="space-y-4"><h3 class="text-lg font-medium text-gray-900 dark:text-white border-b border-gray-200 dark:border-gray-700 pb-2">Advanced Settings</h3> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><label for="runnerPrefix" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Runner Prefix</label> <input id="runnerPrefix" type="text" placeholder="garm" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"/></div> <div><label for="githubRunnerGroup" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">GitHub Runner Group (optional)</label> <input id="githubRunnerGroup" type="text" placeholder="Default group" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"/></div></div> <div><div class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Extra Specs (JSON)</div> <!></div> <div class="flex items-center"><input id="enabled" type="checkbox" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600 rounded"/> <label for="enabled" class="ml-2 block text-sm text-gray-700 dark:text-gray-300">Enable scale set immediately</label></div></div>',1),vt=k('<div class="flex items-center"><div class="animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"></div> Creating...</div>'),pt=k('<div class="max-w-6xl w-full max-h-[90vh] overflow-y-auto"><div class="px-6 py-4 border-b border-gray-200 dark:border-gray-700"><h2 class="text-xl font-semibold text-gray-900 dark:text-white">Create New Scale Set</h2> <p class="mt-1 text-sm text-gray-500 dark:text-gray-400">Scale sets are only available for GitHub endpoints</p></div> <form class="p-6 space-y-6"><!> <div><label for="name" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Name <span class="text-red-500">*</span></label> <input id="name" type="text" required placeholder="e.g., my-scale-set" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"/></div> <div><fieldset><legend class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3">Entity Level <span class="text-red-500">*</span></legend> <div class="grid grid-cols-3 gap-4"><button type="button"><svg class="w-8 h-8 mb-2 text-gray-600 dark:text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5a2 2 0 012-2h4a2 2 0 012 2v2H8V5z"></path></svg> <span class="text-sm font-medium text-gray-900 dark:text-white">Repository</span></button> <button type="button"><svg class="w-8 h-8 mb-2 text-gray-600 dark:text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path></svg> <span class="text-sm font-medium text-gray-900 dark:text-white">Organization</span></button> <button type="button"><svg class="w-8 h-8 mb-2 text-gray-600 dark:text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path></svg> <span class="text-sm font-medium text-gray-900 dark:text-white">Enterprise</span></button></div></fieldset></div> <!> <div class="flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700"><button type="button" class="px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 cursor-pointer">Cancel</button> <button type="submit" class="px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer"><!></button></div></form></div>');function mt(Ce,Pe){wr(Pe,!1);const ae=Hr();let O=i(!1),b=i(""),c=i(""),m=i([]),S=i([]),F=i(!1),$=i(!1),C=i(""),f=i(""),w=i(""),g=i(""),y=i(""),A=i(void 0),I=i(void 0),z=i(void 0),n=i("garm"),L=i("linux"),B=i("amd64"),oe=i(""),se=i(!0),U=i("{}");async function pe(){try{r($,!0),r(S,await E.listProviders())}catch(v){r(b,H(v))}finally{r($,!1)}}async function me(){if(e(c))try{switch(r(F,!0),r(m,[]),e(c)){case"repository":r(m,await E.listRepositories());break;case"organization":r(m,await E.listOrganizations());break;case"enterprise":r(m,await E.listEnterprises());break}}catch(v){r(b,H(v))}finally{r(F,!1)}}function le(v){e(c)!==v&&(r(c,v),r(f,""),me())}async function Me(){if(!e(C)||!e(c)||!e(f)||!e(w)||!e(g)||!e(y)){r(b,"Please fill in all required fields");return}try{r(O,!0),r(b,"");let v={};if(e(U).trim())try{v=JSON.parse(e(U))}catch{throw new Error("Invalid JSON in extra specs")}const J={name:e(C),provider_name:e(w),image:e(g),flavor:e(y),max_runners:e(A)||10,min_idle_runners:e(I)||0,runner_bootstrap_timeout:e(z)||20,runner_prefix:e(n),os_type:e(L),os_arch:e(B),"github-runner-group":e(oe)||void 0,enabled:e(se),extra_specs:e(U).trim()?v:void 0};let P;switch(e(c)){case"repository":P=await E.createRepositoryScaleSet(e(f),J);break;case"organization":P=await E.createOrganizationScaleSet(e(f),J);break;case"enterprise":P=await E.createEnterpriseScaleSet(e(f),J);break;default:throw new Error("Invalid entity level selected")}ae("submit",P)}catch(v){r(b,H(v))}finally{r(O,!1)}}Sr(()=>{pe()}),kr(),Pr(Ce,{$$events:{close:()=>ae("close")},children:(v,J)=>{var P=pt(),V=a(o(P),2),fe=o(V);{var Ee=u=>{var M=lt(),Z=o(M),ke=o(Z,!0);s(Z),s(M),_(()=>re(ke,e(b))),p(u,M)};T(fe,u=>{e(b)&&u(Ee)})}var W=a(fe,2),K=a(o(W),2);D(K),s(W);var Q=a(W,2),ye=o(Q),ie=a(o(ye),2),de=o(ie),X=a(de,2),he=a(X,2);s(ie),s(ye),s(Q);var ne=a(Q,2);{var Te=u=>{var M=bt(),Z=$r(M),ke=a(o(Z),2),Re=o(ke),De=o(Re),Mr=o(De);fr(),s(De);var Er=a(De,2);{var Tr=l=>{var h=it();p(l,h)},Rr=l=>{var h=nt();_(()=>{e(f),Se(()=>{e(c),e(m)})});var R=o(h),Ve=o(R);s(R),R.value=R.__value="";var ue=a(R);hr(ue,1,()=>e(m),xr,(j,x)=>{var N=dt(),we=o(N);{var Lr=ee=>{var ge=We();_(()=>re(ge,`${e(x).owner??""}/${e(x).name??""} (${e(x).endpoint?.name||"Unknown endpoint"})`)),p(ee,ge)},Gr=ee=>{var ge=We();_(()=>re(ge,`${e(x).name??""} (${e(x).endpoint?.name||"Unknown endpoint"})`)),p(ee,ge)};T(we,ee=>{e(c)==="repository"?ee(Lr):ee(Gr,!1)})}s(N);var mr={};_(()=>{mr!==(mr=e(x).id)&&(N.value=(N.__value=e(x).id)??"")}),p(j,N)}),s(h),_(()=>re(Ve,`Select a ${e(c)??""}`)),$e(h,()=>e(f),j=>r(f,j)),p(l,h)};T(Er,l=>{e(F)?l(Tr):l(Rr,!1)})}s(Re);var Ye=a(Re,2),Dr=a(o(Ye),2);{var Ar=l=>{var h=ct();p(l,h)},Ir=l=>{var h=gt();_(()=>{e(w),Se(()=>{e(S)})});var R=o(h);R.value=R.__value="";var Ve=a(R);hr(Ve,1,()=>e(S),xr,(ue,j)=>{var x=ut(),N=o(x,!0);s(x);var we={};_(()=>{re(N,e(j).name),we!==(we=e(j).name)&&(x.value=(x.__value=e(j).name)??"")}),p(ue,x)}),s(h),$e(h,()=>e(w),ue=>r(w,ue)),p(l,h)};T(Dr,l=>{e($)?l(Ar):l(Ir,!1)})}s(Ye),s(ke),s(Z);var Ae=a(Z,2),Ze=a(o(Ae),2),Ie=o(Ze),er=a(o(Ie),2);D(er),s(Ie);var ze=a(Ie,2),rr=a(o(ze),2);D(rr),s(ze);var Le=a(ze,2),Ge=a(o(Le),2);_(()=>{e(L),Se(()=>{})});var He=o(Ge);He.value=He.__value="linux";var tr=a(He);tr.value=tr.__value="windows",s(Ge),s(Le);var ar=a(Le,2),Ue=a(o(ar),2);_(()=>{e(B),Se(()=>{})});var je=o(Ue);je.value=je.__value="amd64";var or=a(je);or.value=or.__value="arm64",s(Ue),s(ar),s(Ze),s(Ae);var Ne=a(Ae,2),sr=a(o(Ne),2),qe=o(sr),lr=a(o(qe),2);D(lr),s(qe);var Oe=a(qe,2),ir=a(o(Oe),2);D(ir),s(Oe);var dr=a(Oe,2),nr=a(o(dr),2);D(nr),s(dr),s(sr),s(Ne);var cr=a(Ne,2),Fe=a(o(cr),2),Be=o(Fe),ur=a(o(Be),2);D(ur),s(Be);var gr=a(Be,2),br=a(o(gr),2);D(br),s(gr),s(Fe);var Je=a(Fe,2),zr=a(o(Je),2);Wr(zr,{rows:4,placeholder:"{}",get value(){return e(U)},set value(l){r(U,l)},$$legacy:!0}),s(Je);var vr=a(Je,2),pr=o(vr);D(pr),fr(2),s(vr),s(cr),_(l=>re(Mr,`${l??""} `),[()=>e(c).charAt(0).toUpperCase()+e(c).slice(1)]),G(er,()=>e(g),l=>r(g,l)),G(rr,()=>e(y),l=>r(y,l)),$e(Ge,()=>e(L),l=>r(L,l)),$e(Ue,()=>e(B),l=>r(B,l)),G(lr,()=>e(I),l=>r(I,l)),G(ir,()=>e(A),l=>r(A,l)),G(nr,()=>e(z),l=>r(z,l)),G(ur,()=>e(n),l=>r(n,l)),G(br,()=>e(oe),l=>r(oe,l)),Jr(pr,()=>e(se),l=>r(se,l)),p(u,M)};T(ne,u=>{e(c)&&u(Te)})}var xe=a(ne,2),_e=o(xe),t=a(_e,2),d=o(t);{var Y=u=>{var M=vt();p(u,M)},ce=u=>{var M=We("Create Scale Set");p(u,M)};T(d,u=>{e(O)?u(Y):u(ce,!1)})}s(t),s(xe),s(V),s(P),_(()=>{Qe(de,1,`flex flex-col items-center justify-center p-4 border-2 rounded-lg transition-colors cursor-pointer ${e(c)==="repository"?"border-blue-500 bg-blue-50 dark:bg-blue-900":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"}`),Qe(X,1,`flex flex-col items-center justify-center p-4 border-2 rounded-lg transition-colors cursor-pointer ${e(c)==="organization"?"border-blue-500 bg-blue-50 dark:bg-blue-900":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"}`),Qe(he,1,`flex flex-col items-center justify-center p-4 border-2 rounded-lg transition-colors cursor-pointer ${e(c)==="enterprise"?"border-blue-500 bg-blue-50 dark:bg-blue-900":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"}`),t.disabled=e(O)||!e(C)||!e(c)||!e(f)||!e(w)||!e(g)||!e(y)}),G(K,()=>e(C),u=>r(C,u)),be("click",de,()=>le("repository")),be("click",X,()=>le("organization")),be("click",he,()=>le("enterprise")),be("click",_e,()=>ae("close")),be("submit",V,Vr(Me)),p(v,P)},$$slots:{default:!0}}),Cr()}const ft={};var yt=k('<div class="p-6"><!></div>'),ht=k('<div class="space-y-6"><!> <!></div> <!> <!> <!> <!>',1);function Ot(Ce,Pe){wr(Pe,!1);const[ae,O]=Or(),b=()=>Fr(et,"$eagerCache",ae),c=i(),m=i(),S=i(),F=i();let $=i([]),C=i(!0),f=i(""),w=i(""),g=i(1),y=i(25),A=i(!1),I=i(!1),z=i(!1),n=i(null),L=i(!1);async function B(t){try{r(f,""),r(A,!1),te.success("Scale Set Created","Scale set has been created successfully.")}catch(d){throw r(f,H(d)),d}}async function oe(t){if(e(n))try{await E.updateScaleSet(e(n).id,t),te.success("Scale Set Updated",`Scale set ${e(n).name} has been updated successfully.`),r(I,!1),r(n,null)}catch(d){const Y=H(d);throw te.error("Update Failed",Y),d}}async function se(){if(e(n))try{await E.deleteScaleSet(e(n).id),te.success("Scale Set Deleted",`Scale set ${e(n).name} has been deleted successfully.`)}catch(t){const d=H(t);te.error("Delete Failed",d)}finally{r(z,!1),r(n,null)}}function U(){r(A,!0)}async function pe(t){try{r(L,!0);const d=await E.getScaleSet(t.id);r(n,d),r(I,!0)}catch(d){const Y=H(d);te.error("Failed to Load Scale Set Details",Y)}finally{r(L,!1)}}function me(t){r(n,t),r(z,!0)}Sr(async()=>{try{r(C,!0);const t=await _r.getScaleSets();t&&Array.isArray(t)&&r($,t)}catch(t){ft?.VITEST||console.error("Failed to load scale sets:",t),r(f,H(t))}finally{r(C,!1)}});async function le(){try{await _r.retryResource("scalesets")}catch(t){console.error("Retry failed:",t)}}const Me=[{key:"name",title:"Name",cellComponent:tt,cellProps:{entityType:"scaleset"}},{key:"image",title:"Image",cellComponent:Xe,cellProps:{field:"image",type:"code",showTitle:!0}},{key:"provider",title:"Provider",cellComponent:Xe,cellProps:{field:"provider_name"}},{key:"flavor",title:"Flavor",cellComponent:Xe,cellProps:{field:"flavor"}},{key:"entity",title:"Entity",cellComponent:st},{key:"endpoint",title:"Endpoint",cellComponent:at},{key:"status",title:"Status",cellComponent:ot,cellProps:{statusType:"enabled"}},{key:"actions",title:"Actions",align:"right",cellComponent:Yr}],v={entityType:"scaleset",primaryText:{field:"name",isClickable:!0,href:"/scalesets/{id}"},secondaryText:{field:"entity_name",computedValue:t=>ve(t)},badges:[{type:"custom",value:t=>({variant:t.enabled?"success":"error",text:t.enabled?"Enabled":"Disabled"})}],actions:[{type:"edit",handler:t=>pe(t)},{type:"delete",handler:t=>me(t)}]};function J(t){r(w,t.detail.term),r(g,1)}function P(t){r(g,t.detail.page)}function V(t){r(y,t.detail.perPage),r(g,1)}function fe(t){pe(t.detail.item)}function Ee(t){me(t.detail.item)}q(()=>(e($),b()),()=>{(!e($).length||b().loaded.scalesets)&&r($,b().scalesets)}),q(()=>b(),()=>{r(C,b().loading.scalesets)}),q(()=>b(),()=>{r(c,b().errorMessages.scalesets)}),q(()=>(e($),e(w),ve),()=>{r(m,rt(e($),e(w),t=>ve(t)))}),q(()=>(e(m),e(y)),()=>{r(S,Math.ceil(e(m).length/e(y)))}),q(()=>(e(g),e(S)),()=>{e(g)>e(S)&&e(S)>0&&r(g,e(S))}),q(()=>(e(m),e(g),e(y)),()=>{r(F,e(m).slice((e(g)-1)*e(y),e(g)*e(y)))}),Ur(),kr();var W=ht();jr(t=>{Nr.title="Scale Sets - GARM"});var K=$r(W),Q=o(K);Br(Q,{title:"Scale Sets",description:"Manage GitHub runner scale sets",actionLabel:"Add Scale Set",$$events:{action:U}});var ye=a(Q,2);{let t=Ke(()=>e(c)||e(f)),d=Ke(()=>!!e(c));Xr(ye,{get columns(){return Me},get data(){return e(F)},get loading(){return e(C)},get error(){return e(t)},get searchTerm(){return e(w)},searchPlaceholder:"Search by entity name...",get currentPage(){return e(g)},get perPage(){return e(y)},get totalPages(){return e(S)},get totalItems(){return e(m),yr(()=>e(m).length)},itemName:"scale sets",emptyIconType:"cog",get showRetry(){return e(d)},get mobileCardConfig(){return v},$$events:{search:J,pageChange:P,perPageChange:V,retry:le,edit:fe,delete:Ee}})}s(K);var ie=a(K,2);{var de=t=>{mt(t,{$$events:{close:()=>r(A,!1),submit:d=>B(d.detail)}})};T(ie,t=>{e(A)&&t(de)})}var X=a(ie,2);{var he=t=>{Kr(t,{get scaleSet(){return e(n)},$$events:{close:()=>{r(I,!1),r(n,null)},submit:d=>oe(d.detail)}})};T(X,t=>{e(I)&&e(n)&&t(he)})}var ne=a(X,2);{var Te=t=>{{let d=Ke(()=>(e(n),qr(ve),yr(()=>`Scale Set ${e(n).name} (${ve(e(n))})`)));Qr(t,{title:"Delete Scale Set",message:"Are you sure you want to delete this scale set? This action cannot be undone and will remove all associated runners.",get itemName(){return e(d)},$$events:{close:()=>{r(z,!1),r(n,null)},confirm:se}})}};T(ne,t=>{e(z)&&e(n)&&t(Te)})}var xe=a(ne,2);{var _e=t=>{Pr(t,{$$events:{close:()=>{}},children:(d,Y)=>{var ce=yt(),u=o(ce);Zr(u,{message:"Loading scale set details..."}),s(ce),p(d,ce)},$$slots:{default:!0}})};T(xe,t=>{e(L)&&t(_e)})}p(Ce,W),Cr(),O()}export{Ot as component};
