import{c as de,a as O,h as ie,e as k,b as w,l as le,t as ne,s as T,f as Q}from"../chunks/CxOx-TIJ.js";import{i as ce}from"../chunks/3NxSoY2_.js";import{p as me,o as ue,l as pe,b as ve,d as D,t as $,g as a,a as fe,$ as ge,s as o,m as g,c as r,w as F,u as U,h as C,j as i,F as L,i as M,r as t,n as he}from"../chunks/DzFKsO_V.js";import{s as be,a as _e,i as ye,v as xe}from"../chunks/B_jyf0qs.js";import{w as ke}from"../chunks/DoJxysSt.js";import{c as l,B as we,d as H,r as K}from"../chunks/BguOOs3x.js";import{b as N}from"../chunks/BVM1034P.js";import{p as $e}from"../chunks/CdEA5IGF.js";import{g as W}from"../chunks/BzzAh3Be.js";import{a as J,b as Me}from"../chunks/K_YdKkKc.js";import{e as Le}from"../chunks/BZiHL9L3.js";n[L]="src/routes/login/+page.svelte";var Ae=O(Q('<div class="rounded-md bg-red-50 dark:bg-red-900 p-4"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-red-400" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg></div> <div class="ml-3"><p class="text-sm font-medium text-red-800 dark:text-red-200"> </p></div></div></div>'),n[L],[[130,4,[[131,5,[[132,6,[[133,7,[[134,8]]]]],[137,6,[[138,7]]]]]]]]),Se=O(Q('<div class="min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8"><div class="max-w-md w-full space-y-8"><div><div class="mx-auto h-48 w-auto flex justify-center"><img alt="GARM" class="h-48 w-auto dark:hidden"/> <img alt="GARM" class="h-48 w-auto hidden dark:block"/></div> <h2 class="mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-white">Sign in to GARM</h2> <p class="mt-2 text-center text-sm text-gray-600 dark:text-gray-400">GitHub Actions Runner Manager</p></div> <form class="mt-8 space-y-6"><div class="rounded-md shadow-sm -space-y-px"><div><label for="username" class="sr-only">Username</label> <input id="username" name="username" type="text" required class="appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white bg-white dark:bg-gray-700 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm" placeholder="Username"/></div> <div><label for="password" class="sr-only">Password</label> <input id="password" name="password" type="password" required class="appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white bg-white dark:bg-gray-700 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm" placeholder="Password"/></div></div> <!> <div><!></div></form></div></div>'),n[L],[[74,0,[[75,1,[[76,2,[[77,3,[[78,4],[83,4]]],[89,3],[92,3]]],[97,2,[[98,3,[[99,4,[[100,5],[101,5]]],[113,4,[[114,5],[115,5]]]]],[146,3]]]]]]]]);function n(V,X){de(new.target),me(X,!1,n);const[Y,Z]=be(),A=()=>(xe(J,"authStore"),_e(J,"$authStore",Y));let u=g(""),p=g(""),d=g(!1),c=g("");ue(()=>{ee()});function ee(){const e=localStorage.getItem("theme");let s=!1;M(e,"dark")?s=!0:M(e,"light")?s=!1:s=window.matchMedia("(prefers-color-scheme: dark)").matches,s?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}async function S(){if(!a(u)||!a(p)){i(c,"Please enter both username and password");return}i(d,!0),i(c,"");try{(await he(Me.login(a(u),a(p))))(),W(l("/"))}catch(e){i(c,Le(e))}finally{i(d,!1)}}function z(e){M(e.key,"Enter")&&S()}pe(()=>(A(),l),()=>{A().isAuthenticated&&W(l("/"))}),ve(),ce();var h=Se();ie(e=>{ge.title="Login - GARM"});var E=r(h),b=r(E),P=r(b),G=r(P),ae=o(G,2);t(P),F(4),t(b);var _=o(b,2),y=r(_),x=r(y),v=o(r(x),2);K(v),t(x);var R=o(x,2),f=o(r(R),2);K(f),t(R),t(y);var B=o(y,2);{var re=e=>{var s=Ae(),m=r(s),q=o(r(m),2),I=r(q),oe=r(I,!0);t(I),t(q),t(m),t(s),$(()=>T(oe,a(c))),w(e,s)};D(()=>ye(B,e=>{a(c)&&e(re)}),"if",n,129,3)}var j=o(B,2),te=r(j);D(()=>we(te,{type:"submit",variant:"primary",size:"md",fullWidth:!0,get disabled(){return a(d)},get loading(){return a(d)},children:ke(n,(e,s)=>{F();var m=ne();$(()=>T(m,a(d)?"Signing in...":"Sign in")),w(e,m)}),$$slots:{default:!0}}),"component",n,147,4,{componentTag:"Button"}),t(j),t(_),t(E),t(h),$((e,s)=>{H(G,"src",e),H(ae,"src",s),v.disabled=a(d),f.disabled=a(d)},[()=>(C(l),U(()=>l("/assets/garm-light.svg"))),()=>(C(l),U(()=>l("/assets/garm-dark.svg")))]),N(v,()=>a(u),e=>i(u,e)),k("keypress",v,z),N(f,()=>a(p),e=>i(p,e)),k("keypress",f,z),k("submit",_,$e(S)),w(V,h);var se=fe({...le()});return Z(),se}export{n as component};
