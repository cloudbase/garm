import"../chunks/DsnmJJEf.js";import{i as yr}from"../chunks/B3Pzt0F_.js";import{p as hr,E as Gr,o as xr,f as w,k as a,j as o,g as e,m as i,r as s,t as k,s as r,e as de,c as f,v as X,b as kr,z as br,x as ye,D as qe,d as _r,l as U,a as Hr,h as jr,$ as Fr,q as Oe,u as mr,n as Nr}from"../chunks/D8EpLgQ1.js";import{i as D,s as Ur,a as qr}from"../chunks/5WA7h8uK.js";import{r as T,s as Le,b as he,g as R}from"../chunks/CiE1LlKV.js";import"../chunks/CoIRRsD9.js";import{P as Or}from"../chunks/CO4LUyTP.js";import{e as pr,i as vr}from"../chunks/u94nIB4-.js";import{b as H,a as Lr}from"../chunks/C6k1Q4We.js";import{p as Br}from"../chunks/D4Caz1gY.js";import{M as Jr}from"../chunks/qB7B8uiS.js";import{J as Vr}from"../chunks/DZblzgqm.js";import{U as Wr}from"../chunks/C89fcOde.js";import{D as Kr}from"../chunks/KQ2xQpA3.js";import{e as Qr,a as fr}from"../chunks/wyaP0EDu.js";import{t as Be}from"../chunks/BEkVdVE1.js";import{e as ne,h as Xr}from"../chunks/BGVHQGl-.js";import{D as Yr,G as Je,a as Zr}from"../chunks/C9DJVOi1.js";import{E as et}from"../chunks/B7ITzBt8.js";import{E as rt}from"../chunks/CGpPw4EW.js";import{S as tt}from"../chunks/BE4wujub.js";import{P as at}from"../chunks/CLYUNKnN.js";var ot=w('<div class="rounded-md bg-red-50 dark:bg-red-900 p-4"><p class="text-sm font-medium text-red-800 dark:text-red-200"> </p></div>'),st=w('<div class="animate-pulse bg-gray-200 dark:bg-gray-700 h-10 rounded"></div>'),lt=w("<option><!></option>"),it=w('<select id="entity" required class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"><option> </option><!></select>'),dt=w('<div class="animate-pulse bg-gray-200 dark:bg-gray-700 h-10 rounded"></div>'),nt=w("<option> </option>"),ct=w('<select id="provider" required class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"><option>Select a provider</option><!></select>'),ut=w('<div class="space-y-4"><h3 class="text-lg font-medium text-gray-900 dark:text-white border-b border-gray-200 dark:border-gray-700 pb-2">Entity & Provider Configuration</h3> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><label for="entity" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"> <span class="text-red-500">*</span></label> <!></div> <div><label for="provider" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Provider <span class="text-red-500">*</span></label> <!></div></div></div> <div class="space-y-4"><h3 class="text-lg font-medium text-gray-900 dark:text-white border-b border-gray-200 dark:border-gray-700 pb-2">Image & OS Configuration</h3> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><label for="image" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Image <span class="text-red-500">*</span></label> <input id="image" type="text" required placeholder="e.g., ubuntu:22.04" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"/></div> <div><label for="flavor" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Flavor <span class="text-red-500">*</span></label> <input id="flavor" type="text" required placeholder="e.g., default" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"/></div> <div><label for="osType" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">OS Type</label> <select id="osType" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"><option>Linux</option><option>Windows</option></select></div> <div><label for="osArch" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Architecture</label> <select id="osArch" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"><option>AMD64</option><option>ARM64</option></select></div></div></div> <div class="space-y-4"><h3 class="text-lg font-medium text-gray-900 dark:text-white border-b border-gray-200 dark:border-gray-700 pb-2">Runner Limits & Timing</h3> <div class="grid grid-cols-1 md:grid-cols-3 gap-4"><div><label for="minIdleRunners" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Min Idle Runners</label> <input id="minIdleRunners" type="number" min="0" placeholder="0" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"/></div> <div><label for="maxRunners" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Max Runners</label> <input id="maxRunners" type="number" min="1" placeholder="10" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"/></div> <div><label for="bootstrapTimeout" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Bootstrap Timeout (min)</label> <input id="bootstrapTimeout" type="number" min="1" placeholder="20" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"/></div></div></div> <div class="space-y-4"><h3 class="text-lg font-medium text-gray-900 dark:text-white border-b border-gray-200 dark:border-gray-700 pb-2">Advanced Settings</h3> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><label for="runnerPrefix" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Runner Prefix</label> <input id="runnerPrefix" type="text" placeholder="garm" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"/></div> <div><label for="githubRunnerGroup" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">GitHub Runner Group (optional)</label> <input id="githubRunnerGroup" type="text" placeholder="Default group" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"/></div></div> <div><div class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Extra Specs (JSON)</div> <!></div> <div class="flex items-center"><input id="enabled" type="checkbox" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600 rounded"/> <label for="enabled" class="ml-2 block text-sm text-gray-700 dark:text-gray-300">Enable scale set immediately</label></div></div>',1),gt=w('<div class="flex items-center"><div class="animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"></div> Creating...</div>'),bt=w('<div class="max-w-6xl w-full max-h-[90vh] overflow-y-auto"><div class="px-6 py-4 border-b border-gray-200 dark:border-gray-700"><h2 class="text-xl font-semibold text-gray-900 dark:text-white">Create New Scale Set</h2> <p class="mt-1 text-sm text-gray-500 dark:text-gray-400">Scale sets are only available for GitHub endpoints</p></div> <form class="p-6 space-y-6"><!> <div><label for="name" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Name <span class="text-red-500">*</span></label> <input id="name" type="text" required placeholder="e.g., my-scale-set" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"/></div> <div><fieldset><legend class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3">Entity Level <span class="text-red-500">*</span></legend> <div class="grid grid-cols-3 gap-4"><button type="button"><svg class="w-8 h-8 mb-2 text-gray-600 dark:text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5a2 2 0 012-2h4a2 2 0 012 2v2H8V5z"></path></svg> <span class="text-sm font-medium text-gray-900 dark:text-white">Repository</span></button> <button type="button"><svg class="w-8 h-8 mb-2 text-gray-600 dark:text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path></svg> <span class="text-sm font-medium text-gray-900 dark:text-white">Organization</span></button> <button type="button"><svg class="w-8 h-8 mb-2 text-gray-600 dark:text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path></svg> <span class="text-sm font-medium text-gray-900 dark:text-white">Enterprise</span></button></div></fieldset></div> <!> <div class="flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700"><button type="button" class="px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 cursor-pointer">Cancel</button> <button type="submit" class="px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer"><!></button></div></form></div>');function mt(xe,ke){hr(ke,!1);const Y=Gr();let q=i(!1),m=i(""),n=i(""),v=i([]),S=i([]),O=i(!1),C=i(!1),$=i(""),p=i(""),_=i(""),u=i(""),y=i(""),A=i(void 0),z=i(void 0),I=i(void 0),d=i("garm"),L=i("linux"),B=i("amd64"),Z=i(""),ee=i(!0),G=i("{}");async function ce(){try{r(C,!0),r(S,await R.listProviders())}catch(c){r(m,c instanceof Error?c.message:"Failed to load providers")}finally{r(C,!1)}}async function _e(){if(e(n))try{switch(r(O,!0),r(v,[]),e(n)){case"repository":r(v,await R.listRepositories());break;case"organization":r(v,await R.listOrganizations());break;case"enterprise":r(v,await R.listEnterprises());break}}catch(c){r(m,c instanceof Error?c.message:`Failed to load ${e(n)}s`)}finally{r(O,!1)}}function re(c){e(n)!==c&&(r(n,c),r(p,""),_e())}async function we(){if(!e($)||!e(n)||!e(p)||!e(_)||!e(u)||!e(y)){r(m,"Please fill in all required fields");return}try{r(q,!0),r(m,"");let c={};if(e(G).trim())try{c=JSON.parse(e(G))}catch{throw new Error("Invalid JSON in extra specs")}const J={name:e($),provider_name:e(_),image:e(u),flavor:e(y),max_runners:e(A)||10,min_idle_runners:e(z)||0,runner_bootstrap_timeout:e(I)||20,runner_prefix:e(d),os_type:e(L),os_arch:e(B),"github-runner-group":e(Z)||void 0,enabled:e(ee),extra_specs:e(G).trim()?c:void 0};let E;switch(e(n)){case"repository":E=await R.createRepositoryScaleSet(e(p),J);break;case"organization":E=await R.createOrganizationScaleSet(e(p),J);break;case"enterprise":E=await R.createEnterpriseScaleSet(e(p),J);break;default:throw new Error("Invalid entity level selected")}Y("submit",E)}catch(c){r(m,c instanceof Error?c.message:"Failed to create scale set")}finally{r(q,!1)}}xr(()=>{ce()}),yr(),Jr(xe,{$$events:{close:()=>Y("close")},children:(c,J)=>{var E=bt(),V=a(o(E),2),ue=o(V);{var ge=b=>{var P=ot(),K=o(P),ve=o(K,!0);s(K),s(P),k(()=>X(ve,e(m))),f(b,P)};D(ue,b=>{e(m)&&b(ge)})}var j=a(ue,2),te=a(o(j),2);T(te),s(j);var ae=a(j,2),oe=o(ae),be=a(o(oe),2),W=o(be),se=a(W,2),me=a(se,2);s(be),s(oe),s(ae);var pe=a(ae,2);{var t=b=>{var P=ut(),K=kr(P),ve=a(o(K),2),Ce=o(ve),$e=o(Ce),$r=o($e);br(),s($e);var Er=a($e,2);{var Pr=l=>{var h=st();f(l,h)},Mr=l=>{var h=it();k(()=>{e(p),ye(()=>{e(n),e(v)})});var M=o(h),Ue=o(M);s(M),M.value=M.__value="";var le=a(M);pr(le,1,()=>e(v),vr,(F,x)=>{var N=lt(),fe=o(N);{var zr=Q=>{var ie=qe();k(()=>X(ie,`${e(x).owner??""}/${e(x).name??""} (${e(x).endpoint?.name||"Unknown endpoint"})`)),f(Q,ie)},Ir=Q=>{var ie=qe();k(()=>X(ie,`${e(x).name??""} (${e(x).endpoint?.name||"Unknown endpoint"})`)),f(Q,ie)};D(fe,Q=>{e(n)==="repository"?Q(zr):Q(Ir,!1)})}s(N);var gr={};k(()=>{gr!==(gr=e(x).id)&&(N.value=(N.__value=e(x).id)??"")}),f(F,N)}),s(h),k(()=>X(Ue,`Select a ${e(n)??""}`)),he(h,()=>e(p),F=>r(p,F)),f(l,h)};D(Er,l=>{e(O)?l(Pr):l(Mr,!1)})}s(Ce);var We=a(Ce,2),Tr=a(o(We),2);{var Rr=l=>{var h=dt();f(l,h)},Dr=l=>{var h=ct();k(()=>{e(_),ye(()=>{e(S)})});var M=o(h);M.value=M.__value="";var Ue=a(M);pr(Ue,1,()=>e(S),vr,(le,F)=>{var x=nt(),N=o(x,!0);s(x);var fe={};k(()=>{X(N,e(F).name),fe!==(fe=e(F).name)&&(x.value=(x.__value=e(F).name)??"")}),f(le,x)}),s(h),he(h,()=>e(_),le=>r(_,le)),f(l,h)};D(Tr,l=>{e(C)?l(Rr):l(Dr,!1)})}s(We),s(ve),s(K);var Ee=a(K,2),Ke=a(o(Ee),2),Pe=o(Ke),Qe=a(o(Pe),2);T(Qe),s(Pe);var Me=a(Pe,2),Xe=a(o(Me),2);T(Xe),s(Me);var Te=a(Me,2),Re=a(o(Te),2);k(()=>{e(L),ye(()=>{})});var De=o(Re);De.value=De.__value="linux";var Ye=a(De);Ye.value=Ye.__value="windows",s(Re),s(Te);var Ze=a(Te,2),Ae=a(o(Ze),2);k(()=>{e(B),ye(()=>{})});var ze=o(Ae);ze.value=ze.__value="amd64";var er=a(ze);er.value=er.__value="arm64",s(Ae),s(Ze),s(Ke),s(Ee);var Ie=a(Ee,2),rr=a(o(Ie),2),Ge=o(rr),tr=a(o(Ge),2);T(tr),s(Ge);var He=a(Ge,2),ar=a(o(He),2);T(ar),s(He);var or=a(He,2),sr=a(o(or),2);T(sr),s(or),s(rr),s(Ie);var lr=a(Ie,2),je=a(o(lr),2),Fe=o(je),ir=a(o(Fe),2);T(ir),s(Fe);var dr=a(Fe,2),nr=a(o(dr),2);T(nr),s(dr),s(je);var Ne=a(je,2),Ar=a(o(Ne),2);Vr(Ar,{rows:4,placeholder:"{}",get value(){return e(G)},set value(l){r(G,l)},$$legacy:!0}),s(Ne);var cr=a(Ne,2),ur=o(cr);T(ur),br(2),s(cr),s(lr),k(l=>X($r,`${l??""} `),[()=>e(n).charAt(0).toUpperCase()+e(n).slice(1)]),H(Qe,()=>e(u),l=>r(u,l)),H(Xe,()=>e(y),l=>r(y,l)),he(Re,()=>e(L),l=>r(L,l)),he(Ae,()=>e(B),l=>r(B,l)),H(tr,()=>e(z),l=>r(z,l)),H(ar,()=>e(A),l=>r(A,l)),H(sr,()=>e(I),l=>r(I,l)),H(ir,()=>e(d),l=>r(d,l)),H(nr,()=>e(Z),l=>r(Z,l)),Lr(ur,()=>e(ee),l=>r(ee,l)),f(b,P)};D(pe,b=>{e(n)&&b(t)})}var g=a(pe,2),Ve=o(g),Se=a(Ve,2),wr=o(Se);{var Sr=b=>{var P=gt();f(b,P)},Cr=b=>{var P=qe("Create Scale Set");f(b,P)};D(wr,b=>{e(q)?b(Sr):b(Cr,!1)})}s(Se),s(g),s(V),s(E),k(()=>{Le(W,1,`flex flex-col items-center justify-center p-4 border-2 rounded-lg transition-colors cursor-pointer ${e(n)==="repository"?"border-blue-500 bg-blue-50 dark:bg-blue-900":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"}`),Le(se,1,`flex flex-col items-center justify-center p-4 border-2 rounded-lg transition-colors cursor-pointer ${e(n)==="organization"?"border-blue-500 bg-blue-50 dark:bg-blue-900":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"}`),Le(me,1,`flex flex-col items-center justify-center p-4 border-2 rounded-lg transition-colors cursor-pointer ${e(n)==="enterprise"?"border-blue-500 bg-blue-50 dark:bg-blue-900":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"}`),Se.disabled=e(q)||!e($)||!e(n)||!e(p)||!e(_)||!e(u)||!e(y)}),H(te,()=>e($),b=>r($,b)),de("click",W,()=>re("repository")),de("click",se,()=>re("organization")),de("click",me,()=>re("enterprise")),de("click",Ve,()=>Y("close")),de("submit",V,Br(we)),f(c,E)},$$slots:{default:!0}}),_r()}var pt=w('<div class="space-y-6"><!> <!></div> <!> <!> <!>',1);function jt(xe,ke){hr(ke,!1);const[Y,q]=Ur(),m=()=>qr(Qr,"$eagerCache",Y),n=i(),v=i(),S=i(),O=i();let C=i([]),$=i(!0),p=i(""),_=i(""),u=i(1),y=i(25),A=i(!1),z=i(!1),I=i(!1),d=i(null);async function L(t){try{r(p,""),r(A,!1),Be.success("Scale Set Created","Scale set has been created successfully.")}catch(g){throw r(p,g instanceof Error?g.message:"Failed to create scale set"),g}}async function B(t){if(e(d))try{await R.updateScaleSet(e(d).id,t),Be.success("Scale Set Updated",`Scale set ${e(d).name} has been updated successfully.`),r(z,!1),r(d,null)}catch(g){throw g}}async function Z(){if(e(d))try{await R.deleteScaleSet(e(d).id),Be.success("Scale Set Deleted",`Scale set ${e(d).name} has been deleted successfully.`),r(I,!1),r(d,null)}catch(t){r(p,t instanceof Error?t.message:"Failed to delete scale set")}}function ee(){r(A,!0)}function G(t){r(d,t),r(z,!0)}function ce(t){r(d,t),r(I,!0)}xr(async()=>{try{r($,!0);const t=await fr.getScaleSets();t&&Array.isArray(t)&&r(C,t)}catch(t){console.error("Failed to load scale sets:",t),r(p,t instanceof Error?t.message:"Failed to load scale sets")}finally{r($,!1)}});async function _e(){try{await fr.retryResource("scalesets")}catch(t){console.error("Retry failed:",t)}}const re=[{key:"name",title:"Name",cellComponent:et,cellProps:{entityType:"scaleset"}},{key:"image",title:"Image",cellComponent:Je,cellProps:{field:"image",type:"code",showTitle:!0}},{key:"provider",title:"Provider",cellComponent:Je,cellProps:{field:"provider_name"}},{key:"flavor",title:"Flavor",cellComponent:Je,cellProps:{field:"flavor"}},{key:"entity",title:"Entity",cellComponent:at},{key:"endpoint",title:"Endpoint",cellComponent:rt},{key:"status",title:"Status",cellComponent:tt,cellProps:{statusType:"enabled"}},{key:"actions",title:"Actions",align:"right",cellComponent:Zr}],we={entityType:"scaleset",primaryText:{field:"name",isClickable:!0,href:"/scalesets/{id}"},secondaryText:{field:"entity_name",computedValue:t=>ne(t)},badges:[{type:"custom",value:t=>({variant:t.enabled?"success":"error",text:t.enabled?"Enabled":"Disabled"})}],actions:[{type:"edit",handler:t=>G(t)},{type:"delete",handler:t=>ce(t)}]};function c(t){r(_,t.detail.term),r(u,1)}function J(t){r(u,t.detail.page)}function E(t){r(y,t.detail.perPage),r(u,1)}function V(t){G(t.detail.item)}function ue(t){ce(t.detail.item)}U(()=>(e(C),m()),()=>{(!e(C).length||m().loaded.scalesets)&&r(C,m().scalesets)}),U(()=>m(),()=>{r($,m().loading.scalesets)}),U(()=>m(),()=>{r(n,m().errorMessages.scalesets)}),U(()=>(e(C),e(_),ne),()=>{r(v,Xr(e(C),e(_),t=>ne(t)))}),U(()=>(e(v),e(y)),()=>{r(S,Math.ceil(e(v).length/e(y)))}),U(()=>(e(u),e(S)),()=>{e(u)>e(S)&&e(S)>0&&r(u,e(S))}),U(()=>(e(v),e(u),e(y)),()=>{r(O,e(v).slice((e(u)-1)*e(y),e(u)*e(y)))}),Hr(),yr();var ge=pt();jr(t=>{Fr.title="Scale Sets - GARM"});var j=kr(ge),te=o(j);Or(te,{title:"Scale Sets",description:"Manage GitHub runner scale sets",actionLabel:"Add Scale Set",$$events:{action:ee}});var ae=a(te,2);{let t=Oe(()=>e(n)||e(p)),g=Oe(()=>!!e(n));Yr(ae,{get columns(){return re},get data(){return e(O)},get loading(){return e($)},get error(){return e(t)},get searchTerm(){return e(_)},searchPlaceholder:"Search by entity name...",get currentPage(){return e(u)},get perPage(){return e(y)},get totalPages(){return e(S)},get totalItems(){return e(v),mr(()=>e(v).length)},itemName:"scale sets",emptyIconType:"cog",get showRetry(){return e(g)},get mobileCardConfig(){return we},$$events:{search:c,pageChange:J,perPageChange:E,retry:_e,edit:V,delete:ue}})}s(j);var oe=a(j,2);{var be=t=>{mt(t,{$$events:{close:()=>r(A,!1),submit:g=>L(g.detail)}})};D(oe,t=>{e(A)&&t(be)})}var W=a(oe,2);{var se=t=>{Wr(t,{get scaleSet(){return e(d)},$$events:{close:()=>{r(z,!1),r(d,null)},submit:g=>B(g.detail)}})};D(W,t=>{e(z)&&e(d)&&t(se)})}var me=a(W,2);{var pe=t=>{{let g=Oe(()=>(e(d),Nr(ne),mr(()=>`Scale Set ${e(d).name} (${ne(e(d))})`)));Kr(t,{title:"Delete Scale Set",message:"Are you sure you want to delete this scale set? This action cannot be undone and will remove all associated runners.",get itemName(){return e(g)},$$events:{close:()=>{r(I,!1),r(d,null)},confirm:Z}})}};D(me,t=>{e(I)&&e(d)&&t(pe)})}f(xe,ge),_r(),q()}export{jt as component};
