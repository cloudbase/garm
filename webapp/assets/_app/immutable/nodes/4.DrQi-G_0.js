import"../chunks/DsnmJJEf.js";import{i as bt}from"../chunks/C7KraPli.js";import{p as gt,g as e,o as ft,l as V,h as _t,f as I,i as b,j as mt,a as Ee,b as F,c as yt,m as u,n as vt,$ as xt,d as o,v as Pe,s as a,t as ye,u as z,k as s,w as g,r as i,q as se,e as ne,x as Ie,z as O}from"../chunks/cPTQ2Ibn.js";import{i as le,s as ht,a as kt}from"../chunks/DqFqoVWr.js";import{h as wt,r as R,c as je,s as Ge,g as ee}from"../chunks/Byx7xWT8.js";import{b as w}from"../chunks/B-_QCM7E.js";import{p as ze}from"../chunks/D4Caz1gY.js";import{P as Ct}from"../chunks/Cx0LPJnI.js";import{F as Et}from"../chunks/DQ1kky1v.js";import{A as qe}from"../chunks/CnUpIX0m.js";import{e as Pt,a as He}from"../chunks/Dw_XY7fI.js";import{t as de}from"../chunks/Bgbd8SZ5.js";import{g as $e,c as $t,a as At,p as Rt}from"../chunks/BnklD1ph.js";import{e as Ae}from"../chunks/BZiHL9L3.js";import{D as Bt,G as Re,A as Ut}from"../chunks/jOl0lAO4.js";import"../chunks/CuD339SZ.js";import{E as Lt}from"../chunks/1awmCS4-.js";var Mt=I('<div class="flex items-center justify-between"><div class="flex-1 min-w-0"><div class="block"><p class="text-sm font-medium text-gray-900 dark:text-white truncate"> </p> <p class="text-sm text-gray-500 dark:text-gray-400 truncate mt-1"> </p> <div class="flex items-center mt-2"><!> <span class="ml-2 text-xs text-gray-500 dark:text-gray-400 capitalize"> </span></div></div></div> <div class="flex space-x-2 ml-4"><!> <!></div></div>'),Tt=I('<div><label for="api_base_url" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">API Base URL <span class="text-red-500">*</span></label> <input type="url" id="api_base_url" required autocomplete="off" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white" placeholder="https://api.github.com or https://github.example.com/api/v3"/></div> <div><label for="upload_base_url" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Upload Base URL</label> <input type="url" id="upload_base_url" autocomplete="off" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white" placeholder="https://uploads.github.com"/></div>',1),Dt=I('<div><label for="api_base_url" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">API Base URL <span class="text-xs text-gray-500">(optional)</span></label> <input type="url" id="api_base_url" autocomplete="off" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white" placeholder="https://gitea.example.com/api/v1 (leave empty to use Base URL)"/> <p class="text-xs text-gray-500 dark:text-gray-400 mt-1">If empty, Base URL will be used as API Base URL</p></div>'),Ft=I('<div class="fixed inset-0 flex items-center justify-center z-50" role="dialog" aria-modal="true"><button class="fixed inset-0 w-full h-full bg-black/30 dark:bg-black/50 cursor-default" aria-label="Close modal"></button> <div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-screen overflow-y-auto relative z-10" role="document"><div class="px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center"><div><h3 class="text-lg font-semibold text-gray-900 dark:text-white">Add Endpoint</h3> <p class="text-sm text-gray-600 dark:text-gray-400 mt-1">Connect to GitHub or Gitea for runner management</p></div> <button class="text-gray-400 hover:text-gray-600 dark:text-gray-300 dark:hover:text-gray-100 cursor-pointer" aria-label="Close modal"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <form class="p-6 space-y-4"><!> <div><label for="name" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Endpoint Name <span class="text-red-500">*</span></label> <input type="text" id="name" required autocomplete="off" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"/></div> <div><label for="description" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Description</label> <textarea id="description" rows="2" autocomplete="off" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white" placeholder="Brief description of this endpoint"></textarea></div> <div><label for="base_url" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Base URL <span class="text-red-500">*</span></label> <input type="url" id="base_url" required autocomplete="off" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"/></div> <!> <div class="space-y-3 border-t border-gray-200 dark:border-gray-700 pt-4"><label for="ca_cert_file" class="block text-sm font-medium text-gray-700 dark:text-gray-300">CA Certificate Bundle (Optional)</label> <div class="border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-4 text-center hover:border-blue-400 dark:hover:border-blue-400 transition-colors"><input type="file" id="ca_cert_file" accept=".pem,.crt,.cer,.cert" class="hidden"/> <div class="space-y-2"><svg class="mx-auto h-8 w-8 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg> <p class="text-sm text-gray-600 dark:text-gray-400"><button type="button" class="text-gray-900 dark:text-white hover:text-gray-700 dark:hover:text-gray-300 hover:underline cursor-pointer">Choose a file</button> or drag and drop</p> <p class="text-xs text-gray-500 dark:text-gray-400">PEM, CRT, CER, CERT files only</p></div></div></div> <div class="flex justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700"><button type="button" class="px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-600 hover:bg-gray-200 dark:hover:bg-gray-500 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 cursor-pointer">Cancel</button> <button type="submit">Create Endpoint</button></div></form></div></div>'),It=I('<div><label for="edit_api_base_url" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">API Base URL <span class="text-red-500">*</span></label> <input type="url" id="edit_api_base_url" required autocomplete="off" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"/></div> <div><label for="edit_upload_base_url" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Upload Base URL</label> <input type="url" id="edit_upload_base_url" autocomplete="off" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"/></div>',1),jt=I('<div><label for="edit_api_base_url" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">API Base URL <span class="text-xs text-gray-500">(optional)</span></label> <input type="url" id="edit_api_base_url" autocomplete="off" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"/> <p class="text-xs text-gray-500 dark:text-gray-400 mt-1">If empty, Base URL will be used as API Base URL</p></div>'),Gt=I('<div class="fixed inset-0 flex items-center justify-center z-50" role="dialog" aria-modal="true"><button class="fixed inset-0 w-full h-full bg-black/30 dark:bg-black/50 cursor-default" aria-label="Close modal"></button> <div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-screen overflow-y-auto relative z-10" role="document"><div class="px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center"><div><h3 class="text-lg font-semibold text-gray-900 dark:text-white"> </h3> <p class="text-sm text-gray-600 dark:text-gray-400 mt-1">Update endpoint configuration</p></div> <button class="text-gray-400 hover:text-gray-600 dark:text-gray-300 dark:hover:text-gray-100 cursor-pointer" aria-label="Close modal"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <form class="p-6 space-y-4"><div><label for="edit_name" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Endpoint Name <span class="text-red-500">*</span></label> <input type="text" id="edit_name" required autocomplete="off" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"/></div> <div><label for="edit_description" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Description</label> <textarea id="edit_description" rows="2" autocomplete="off" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"></textarea></div> <div><label for="edit_base_url" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Base URL <span class="text-red-500">*</span></label> <input type="url" id="edit_base_url" required autocomplete="off" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"/></div> <!> <div class="space-y-3 border-t border-gray-200 dark:border-gray-700 pt-4"><label for="edit_ca_cert_file" class="block text-sm font-medium text-gray-700 dark:text-gray-300">CA Certificate Bundle (Optional)</label> <div class="border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-4 text-center hover:border-blue-400 dark:hover:border-blue-400 transition-colors"><input type="file" id="edit_ca_cert_file" accept=".pem,.crt,.cer,.cert" class="hidden"/> <div class="space-y-2"><svg class="mx-auto h-8 w-8 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg> <p class="text-sm text-gray-600 dark:text-gray-400"><button type="button" class="text-gray-900 dark:text-white hover:text-gray-700 dark:hover:text-gray-300 hover:underline cursor-pointer">Choose a file</button> or drag and drop</p> <p class="text-xs text-gray-500 dark:text-gray-400">PEM, CRT, CER, CERT files only</p></div></div></div> <div class="flex justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700"><button type="button" class="px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-600 hover:bg-gray-200 dark:hover:bg-gray-500 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 cursor-pointer">Cancel</button> <button type="submit">Update Endpoint</button></div></form></div></div>'),zt=I('<div class="fixed inset-0 flex items-center justify-center z-50" role="dialog" aria-modal="true"><button class="fixed inset-0 w-full h-full bg-black/30 dark:bg-black/50 cursor-default" aria-label="Close modal"></button> <div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-xl w-full mx-4 relative z-10" role="document"><div class="px-6 py-4"><div class="flex items-center"><div class="flex-shrink-0"><svg class="h-6 w-6 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"></path></svg></div> <div class="ml-3"><h3 class="text-lg font-medium text-gray-900 dark:text-white">Delete Endpoint</h3> <p class="mt-2 text-sm text-gray-500 dark:text-gray-300"> </p></div></div></div> <div class="px-6 py-4 border-t border-gray-200 dark:border-gray-700 flex justify-end space-x-3"><button type="button" class="px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-600 hover:bg-gray-200 dark:hover:bg-gray-500 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 cursor-pointer">Cancel</button> <button type="button" class="px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 cursor-pointer">Delete</button></div></div></div>'),qt=I('<div class="space-y-6"><!> <!></div> <!> <!> <!>',1);function ir(Ne,Se){gt(Se,!1);const[Ve,Oe]=ht(),q=()=>kt(Pt,"$eagerCache",Ve),ve=u(),H=u(),Be=u(),te=u();let ue=u(!0),K=u([]),ce=u(""),pe=u(""),B=u(1),J=u(25),Q=u(1),be=u(!1),ge=u(!1),fe=u(!1),j=u("github"),m=u(null),P=u(null),r=u({name:"",description:"",endpoint_type:"",base_url:"",api_base_url:"",upload_base_url:"",ca_cert_bundle:""}),h={...e(r)};ft(async()=>{try{s(ue,!0);const t=await He.getEndpoints();t&&Array.isArray(t)&&s(K,t)}catch(t){console.error("Failed to load endpoints:",t),s(ce,t instanceof Error?t.message:"Failed to load endpoints")}finally{s(ue,!1)}});async function Ke(){try{await He.retryResource("endpoints")}catch(t){console.error("Retry failed:",t)}}const Je=[{key:"name",title:"Name",cellComponent:Re,cellProps:{field:"name"}},{key:"description",title:"Description",cellComponent:Re,cellProps:{field:"description"}},{key:"api_url",title:"API URL",cellComponent:Re,cellProps:{field:"api_base_url",fallbackField:"base_url"}},{key:"forge_type",title:"Forge Type",cellComponent:Lt},{key:"actions",title:"Actions",align:"right",cellComponent:Ut}],Qe={entityType:"endpoint",primaryText:{field:"name",isClickable:!1},secondaryText:{field:"description"},customInfo:[{icon:t=>$e(t?.endpoint_type||"unknown"),text:t=>t?.api_base_url||"Unknown"}],actions:[{type:"edit",handler:t=>xe(t)},{type:"delete",handler:t=>he(t)}]};function We(t){s(pe,t.detail.term),s(B,1)}function Xe(t){s(B,t.detail.page)}function Ye(t){const n=$t(t.detail.perPage);s(J,n.newPerPage),s(B,n.newCurrentPage)}function Ze(t){xe(t.detail.item)}function et(t){he(t.detail.item)}function tt(){s(j,"github"),ke(),g(r,e(r).endpoint_type="github"),s(be,!0)}function rt(t){s(j,t.detail),ke(),g(r,e(r).endpoint_type=t.detail)}function xe(t){s(m,t),s(r,{name:t.name||"",description:t.description||"",endpoint_type:t.endpoint_type||"",base_url:t.base_url||"",api_base_url:t.api_base_url||"",upload_base_url:t.upload_base_url||"",ca_cert_bundle:typeof t.ca_cert_bundle=="string"?t.ca_cert_bundle:""}),h={...e(r)},s(ge,!0)}function he(t){s(P,t),s(fe,!0)}function ke(){s(r,{name:"",description:"",endpoint_type:"",base_url:"",api_base_url:"",upload_base_url:"",ca_cert_bundle:""}),h={...e(r)}}function at(t){t.key==="Escape"&&(e(be)||e(ge)||e(fe))&&y()}function y(){s(be,!1),s(ge,!1),s(fe,!1),s(j,"github"),s(m,null),s(P,null),ke()}function ot(){const t={};if(e(r).description!==h.description&&(e(r).description.trim()!==""||h.description!=="")&&(t.description=e(r).description.trim()),e(r).base_url!==h.base_url&&e(r).base_url.trim()!==""&&(t.base_url=e(r).base_url.trim()),e(r).api_base_url!==h.api_base_url&&(e(r).api_base_url.trim()!==""||h.api_base_url!=="")&&(t.api_base_url=e(r).api_base_url.trim()),e(m)?.endpoint_type==="github"&&e(r).upload_base_url!==h.upload_base_url&&(e(r).upload_base_url.trim()!==""||h.upload_base_url!=="")&&(t.upload_base_url=e(r).upload_base_url.trim()),e(r).ca_cert_bundle!==h.ca_cert_bundle)if(e(r).ca_cert_bundle!=="")try{const n=atob(e(r).ca_cert_bundle);t.ca_cert_bundle=Array.from(n,c=>c.charCodeAt(0))}catch{h.ca_cert_bundle!==""&&(t.ca_cert_bundle=[])}else h.ca_cert_bundle!==""&&(t.ca_cert_bundle=[]);return t}async function it(){try{const t={name:e(r).name,description:e(r).description,endpoint_type:e(r).endpoint_type,base_url:e(r).base_url,api_base_url:e(r).api_base_url,upload_base_url:e(r).upload_base_url};if(e(r).ca_cert_bundle&&e(r).ca_cert_bundle.trim()!=="")try{const n=atob(e(r).ca_cert_bundle);t.ca_cert_bundle=Array.from(n,c=>c.charCodeAt(0))}catch{}e(r).endpoint_type==="github"?await ee.createGithubEndpoint(t):await ee.createGiteaEndpoint(t),de.success("Endpoint Created",`Endpoint ${e(r).name} has been created successfully.`),y()}catch(t){s(ce,Ae(t))}}async function st(){if(e(m))try{const t=ot();if(Object.keys(t).length===0){de.info("No Changes","No fields were modified."),y();return}e(m).endpoint_type==="github"?await ee.updateGithubEndpoint(e(m).name,t):await ee.updateGiteaEndpoint(e(m).name,t),de.success("Endpoint Updated",`Endpoint ${e(m).name} has been updated successfully.`),y()}catch(t){s(ce,Ae(t))}}async function nt(){if(e(P)){try{e(P).endpoint_type==="github"?await ee.deleteGithubEndpoint(e(P).name):await ee.deleteGiteaEndpoint(e(P).name),de.success("Endpoint Deleted",`Endpoint ${e(P).name} has been deleted successfully.`)}catch(t){const n=Ae(t);de.error("Delete Failed",n)}y()}}function Ue(t){const c=t.target.files?.[0];if(!c){g(r,e(r).ca_cert_bundle="");return}const v=new FileReader;v.onload=l=>{const f=l.target?.result;g(r,e(r).ca_cert_bundle=btoa(f))},v.readAsText(c)}V(()=>(e(K),q()),()=>{(!e(K).length||q().loaded.endpoints)&&s(K,q().endpoints)}),V(()=>q(),()=>{s(ue,q().loading.endpoints)}),V(()=>q(),()=>{s(ve,q().errorMessages.endpoints)}),V(()=>(e(K),e(pe)),()=>{s(H,At(e(K),e(pe)))}),V(()=>(e(Q),e(H),e(J),e(B)),()=>{s(Q,Math.ceil(e(H).length/e(J))),e(B)>e(Q)&&e(Q)>0&&s(B,e(Q))}),V(()=>(e(H),e(B),e(J)),()=>{s(Be,Rt(e(H),e(B),e(J)))}),V(()=>e(r),()=>{s(te,!(!e(r).name||!e(r).base_url||e(r).endpoint_type==="github"&&!e(r).api_base_url))}),_t(),bt();var Le=qt();b("keydown",vt,at),mt(t=>{xt.title="Endpoints - GARM"});var we=Ee(Le),Me=o(we);Ct(Me,{title:"Endpoints",description:"Manage your GitHub and Gitea endpoints for runner management.",actionLabel:"Add Endpoint",$$events:{action:tt}});var lt=a(Me,2);{let t=Pe(()=>e(ve)||e(ce)),n=Pe(()=>!!e(ve));Bt(lt,{get columns(){return Je},get data(){return e(Be)},get loading(){return e(ue)},get error(){return e(t)},get searchTerm(){return e(pe)},searchPlaceholder:"Search endpoints by name, description, or URL...",get currentPage(){return e(B)},get perPage(){return e(J)},get totalPages(){return e(Q)},get totalItems(){return e(H),z(()=>e(H).length)},itemName:"endpoints",emptyIconType:"settings",get showRetry(){return e(n)},get mobileCardConfig(){return Qe},$$events:{search:We,pageChange:Xe,perPageChange:Ye,retry:Ke,edit:Ze,delete:et},$$slots:{"mobile-card":(c,v)=>{const l=Pe(()=>v.item);var f=Mt(),x=o(f),$=o(x),C=o($),k=o(C,!0);i(C);var _=a(C,2),U=o(_,!0);i(_);var A=a(_,2),L=o(A);wt(L,()=>(se($e),se(e(l)),z(()=>$e(e(l).endpoint_type||"","w-5 h-5"))));var M=a(L,2),W=o(M,!0);i(M),i(A),i($),i(x);var N=a(x,2),G=o(N);qe(G,{action:"edit",size:"sm",title:"Edit endpoint",ariaLabel:"Edit endpoint",$$events:{click:()=>xe(e(l))}});var X=a(G,2);qe(X,{action:"delete",size:"sm",title:"Delete endpoint",ariaLabel:"Delete endpoint",$$events:{click:()=>he(e(l))}}),i(N),i(f),ye(()=>{ne(k,(se(e(l)),z(()=>e(l).name))),ne(U,(se(e(l)),z(()=>e(l).description))),ne(W,(se(e(l)),z(()=>e(l).endpoint_type)))}),F(c,f)}}})}i(we);var Te=a(we,2);{var dt=t=>{var n=Ft(),c=o(n),v=a(c,2),l=o(v),f=a(o(l),2);i(l);var x=a(l,2),$=o(x);Et($,{get selectedForgeType(){return e(j)},set selectedForgeType(p){s(j,p)},$$events:{select:rt},$$legacy:!0});var C=a($,2),k=a(o(C),2);R(k),i(C);var _=a(C,2),U=a(o(_),2);Ie(U),i(_);var A=a(_,2),L=a(o(A),2);R(L),i(A);var M=a(A,2);{var W=p=>{var T=Tt(),d=Ee(T),E=a(o(d),2);R(E),i(d);var D=a(d,2),S=a(o(D),2);R(S),i(D),w(E,()=>e(r).api_base_url,Z=>g(r,e(r).api_base_url=Z)),w(S,()=>e(r).upload_base_url,Z=>g(r,e(r).upload_base_url=Z)),F(p,T)},N=p=>{var T=Dt(),d=a(o(T),2);R(d),O(2),i(T),w(d,()=>e(r).api_base_url,E=>g(r,e(r).api_base_url=E)),F(p,T)};le(M,p=>{e(j)==="github"?p(W):p(N,!1)})}var G=a(M,2),X=a(o(G),2),Y=o(X),re=a(Y,2),ae=a(o(re),2),_e=o(ae);O(),i(ae),O(2),i(re),i(X),i(G);var oe=a(G,2),me=o(oe),ie=a(me,2);i(oe),i(x),i(v),i(n),ye(()=>{je(k,"placeholder",e(j)==="github"?"e.g., github-enterprise or github-com":"e.g., gitea-main or my-gitea"),je(L,"placeholder",e(j)==="github"?"https://github.com or https://github.example.com":"https://gitea.example.com"),ie.disabled=!e(te),Ge(ie,1,`px-4 py-2 text-sm font-medium text-white rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors
							${e(te)?"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500 cursor-pointer":"bg-gray-400 cursor-not-allowed"}`)}),b("click",c,y),b("click",f,y),w(k,()=>e(r).name,p=>g(r,e(r).name=p)),w(U,()=>e(r).description,p=>g(r,e(r).description=p)),w(L,()=>e(r).base_url,p=>g(r,e(r).base_url=p)),b("change",Y,Ue),b("click",_e,()=>document.getElementById("ca_cert_file")?.click()),b("click",me,y),b("submit",x,ze(it)),F(t,n)};le(Te,t=>{e(be)&&t(dt)})}var De=a(Te,2);{var ut=t=>{var n=Gt(),c=o(n),v=a(c,2),l=o(v),f=o(l),x=o(f),$=o(x);i(x),O(2),i(f);var C=a(f,2);i(l);var k=a(l,2),_=o(k),U=a(o(_),2);R(U),i(_);var A=a(_,2),L=a(o(A),2);Ie(L),i(A);var M=a(A,2),W=a(o(M),2);R(W),i(M);var N=a(M,2);{var G=d=>{var E=It(),D=Ee(E),S=a(o(D),2);R(S),i(D);var Z=a(D,2),Fe=a(o(Z),2);R(Fe),i(Z),w(S,()=>e(r).api_base_url,Ce=>g(r,e(r).api_base_url=Ce)),w(Fe,()=>e(r).upload_base_url,Ce=>g(r,e(r).upload_base_url=Ce)),F(d,E)},X=d=>{var E=jt(),D=a(o(E),2);R(D),O(2),i(E),w(D,()=>e(r).api_base_url,S=>g(r,e(r).api_base_url=S)),F(d,E)};le(N,d=>{e(m),z(()=>e(m).endpoint_type==="github")?d(G):d(X,!1)})}var Y=a(N,2),re=a(o(Y),2),ae=o(re),_e=a(ae,2),oe=a(o(_e),2),me=o(oe);O(),i(oe),O(2),i(_e),i(re),i(Y);var ie=a(Y,2),p=o(ie),T=a(p,2);i(ie),i(k),i(v),i(n),ye(()=>{ne($,`Edit ${e(m),z(()=>e(m).endpoint_type==="github"?"GitHub":"Gitea")??""} Endpoint`),T.disabled=!e(te),Ge(T,1,`px-4 py-2 text-sm font-medium text-white rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors
							${e(te)?"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500 cursor-pointer":"bg-gray-400 cursor-not-allowed"}`)}),b("click",c,y),b("click",C,y),w(U,()=>e(r).name,d=>g(r,e(r).name=d)),w(L,()=>e(r).description,d=>g(r,e(r).description=d)),w(W,()=>e(r).base_url,d=>g(r,e(r).base_url=d)),b("change",ae,Ue),b("click",me,()=>document.getElementById("edit_ca_cert_file")?.click()),b("click",p,y),b("submit",k,ze(st)),F(t,n)};le(De,t=>{e(ge)&&e(m)&&t(ut)})}var ct=a(De,2);{var pt=t=>{var n=zt(),c=o(n),v=a(c,2),l=o(v),f=o(l),x=a(o(f),2),$=a(o(x),2),C=o($);i($),i(x),i(f),i(l);var k=a(l,2),_=o(k),U=a(_,2);i(k),i(v),i(n),ye(()=>ne(C,`Are you sure you want to delete the endpoint "${e(P),z(()=>e(P).name)??""}"? This action cannot be undone.`)),b("click",c,y),b("click",_,y),b("click",U,nt),F(t,n)};le(ct,t=>{e(fe)&&e(P)&&t(pt)})}F(Ne,Le),yt(),Oe()}export{ir as component};
