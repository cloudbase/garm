import{c as kt,a as E,s as R,b as v,d as se,t as Lr,e as re,l as wt,f as T}from"./CxOx-TIJ.js";import{i as Et}from"./3NxSoY2_.js";import{p as Tt,B as $t,m as c,o as Mt,i as s,j as l,x as St,l as Se,g as e,b as Rt,f as V,d as g,c as d,r as o,s as n,t as w,v as sr,u as b,w as lr,h as N,a as Ot,n as Re,y as Ut,e as zt,F as x}from"./DzFKsO_V.js";import{p as jt,i as _,s as At,a as Pt,v as It}from"./B_jyf0qs.js";import{e as Dr,i as Gr}from"./CdXRaxkX.js";import{w as Jt}from"./DoJxysSt.js";import{r as O,b as ur,d as Fr,c as qr,s as pr,g as Oe}from"./BguOOs3x.js";import{b as C,a as Wr}from"./BVM1034P.js";import{p as Nt}from"./CdEA5IGF.js";import{M as Ct}from"./Pgjt70l7.js";import{J as Bt,U as Lt,a as Dt,b as Gt}from"./BMieCrfV.js";import{e as Hr}from"./BZiHL9L3.js";import{e as Kr}from"./Penjr-j0.js";import{w as fr}from"./DSHGoHxX.js";p[x]="src/lib/components/UpdatePoolModal.svelte";var Ft=E(T('<div class="rounded-md bg-red-50 dark:bg-red-900 p-4"><p class="text-sm font-medium text-red-800 dark:text-red-200"> </p></div>'),p[x],[[374,4,[[375,5]]]]),qt=E(T('<div class="rounded-md bg-yellow-50 dark:bg-yellow-900 p-4"><p class="text-sm font-medium text-yellow-800 dark:text-yellow-200"> </p></div>'),p[x],[[380,4,[[381,5]]]]),Wt=E(T('<div class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 flex items-center"><div class="animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2"></div> <span class="text-sm text-gray-600 dark:text-gray-400">Loading templates...</span></div>'),p[x],[[465,7,[[466,8],[467,8]]]]),Ht=E(T("<option> <!></option>"),p[x],[[476,9]]),Kt=E(T('<select id="template" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"></select> <p class="mt-1 text-xs text-gray-500 dark:text-gray-400"> </p>',1),p[x],[[470,7],[482,7]]),Qt=E(T('<div class="w-full px-3 py-2 border border-yellow-300 dark:border-yellow-600 rounded-md bg-yellow-50 dark:bg-yellow-900/20 text-yellow-800 dark:text-yellow-200"><p class="text-sm"> </p> <p class="text-xs mt-1"><a class="text-yellow-700 dark:text-yellow-300 hover:underline">Create a template first</a> or proceed without a template to use default behavior.</p></div>'),p[x],[[487,7,[[488,8],[489,8,[[490,9]]]]]]),Vt=E(T('<span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200"> <button type="button" class="ml-1 h-4 w-4 rounded-full hover:bg-blue-200 dark:hover:bg-blue-800 flex items-center justify-center cursor-pointer"><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></span>'),p[x],[[619,9,[[621,10,[[627,11,[[628,12]]]]]]]]),Xt=E(T('<div class="flex flex-wrap gap-2"></div>'),p[x],[[617,7]]),Yt=E(T('<div class="ml-6 flex items-start space-x-2 text-xs text-yellow-700 dark:text-yellow-400"><svg class="w-4 h-4 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg> <span> <button type="button" class="underline hover:text-yellow-800 dark:hover:text-yellow-300 cursor-pointer">Enable agent mode</button></span></div>'),p[x],[[690,6,[[691,7,[[692,8]]],[694,7,[[696,8]]]]]]),Zt=E(T('<div class="flex items-center"><div class="animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"></div> Updating...</div>'),p[x],[[724,6,[[725,7]]]]),ea=E(T('<div class="max-w-6xl w-full max-h-[90vh] overflow-y-auto"><div class="px-6 py-4 border-b border-gray-200 dark:border-gray-700"><h2 class="text-xl font-semibold text-gray-900 dark:text-white"> </h2></div> <form class="p-6 space-y-6"><!> <!> <div class="bg-gray-50 dark:bg-gray-900 p-4 rounded-lg"><h3 class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Pool Information (Read-only)</h3> <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm"><div class="flex"><span class="text-gray-500 dark:text-gray-400 w-20 flex-shrink-0">Provider:</span> <span class="text-gray-900 dark:text-white"> </span></div> <div class="flex"><span class="text-gray-500 dark:text-gray-400 w-16 flex-shrink-0">Entity:</span> <span class="text-gray-900 dark:text-white"> </span></div></div></div> <div class="space-y-4"><h3 class="text-lg font-medium text-gray-900 dark:text-white border-b border-gray-200 dark:border-gray-700 pb-2">Image & OS Configuration</h3> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><label for="image" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Image</label> <input id="image" type="text" placeholder="e.g., ubuntu:22.04" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"/></div> <div><label for="flavor" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Flavor</label> <input id="flavor" type="text" placeholder="e.g., default" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"/></div> <div><label for="osType" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">OS Type</label> <select id="osType" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"><option>Linux</option><option>Windows</option></select></div> <div><label for="osArch" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Architecture</label> <select id="osArch" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"><option>AMD64</option><option>ARM64</option></select></div> <div class="col-span-2"><label for="template" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Runner Install Template</label> <!></div></div></div> <div class="space-y-4"><h3 class="text-lg font-medium text-gray-900 dark:text-white border-b border-gray-200 dark:border-gray-700 pb-2">Runner Limits & Timing</h3> <div class="grid grid-cols-1 md:grid-cols-3 gap-4"><div><label for="minIdleRunners" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Min Idle Runners</label> <input id="minIdleRunners" type="number" min="0" placeholder="0"/></div> <div><label for="maxRunners" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Max Runners</label> <input id="maxRunners" type="number" min="1" placeholder="10"/></div> <div><label for="bootstrapTimeout" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Bootstrap Timeout (min)</label> <input id="bootstrapTimeout" type="number" min="1" placeholder="20" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"/></div></div></div> <div class="space-y-4"><h3 class="text-lg font-medium text-gray-900 dark:text-white border-b border-gray-200 dark:border-gray-700 pb-2">Advanced Settings</h3> <div class="grid grid-cols-1 md:grid-cols-3 gap-4"><div><label for="runnerPrefix" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Runner Prefix</label> <input id="runnerPrefix" type="text" placeholder="garm" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"/></div> <div><label for="priority" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Priority</label> <input id="priority" type="number" min="1" placeholder="100" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"/></div> <div><label for="githubRunnerGroup" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">GitHub Runner Group (optional)</label> <input id="githubRunnerGroup" type="text" placeholder="Default group" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"/></div></div> <div><fieldset><legend class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Tags</legend> <div class="space-y-2"><div class="flex"><input type="text" placeholder="Enter a tag" class="flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-l-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"/> <button type="button" class="px-3 py-2 bg-blue-600 text-white rounded-r-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 cursor-pointer">Add</button></div> <!></div></fieldset></div> <div><fieldset><legend class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Extra Specs (JSON)</legend> <!></fieldset></div> <div class="flex items-center"><input id="enabled" type="checkbox" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600 rounded"/> <label for="enabled" class="ml-2 block text-sm text-gray-700 dark:text-gray-300">Pool enabled</label></div> <div class="space-y-2"><div class="flex items-center"><input id="enableShell" type="checkbox" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600 rounded disabled:opacity-50 disabled:cursor-not-allowed"/> <label for="enableShell">Enable Shell</label> <div class="ml-2 relative group"><svg class="w-4 h-4 text-gray-400 cursor-help" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <div class="absolute left-full top-1/2 transform -translate-y-1/2 ml-2 w-80 p-3 bg-gray-900 text-white text-xs rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">This enables remote shell in the GARM agent, allowing users to connect via garm-cli or web UI using websockets. <div class="absolute right-full top-1/2 transform -translate-y-1/2 border-4 border-transparent border-r-gray-900"></div></div></div></div> <!></div></div> <div class="flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700"><button type="button" class="px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 cursor-pointer">Cancel</button> <button type="submit" class="px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer"><!></button></div></form></div>'),p[x],[[365,1,[[366,2,[[367,3]]],[372,2,[[386,3,[[387,4],[388,4,[[389,5,[[390,6],[391,6]]],[393,5,[[394,6],[395,6]]]]]]],[403,3,[[404,4],[407,4,[[408,5,[[409,6],[412,6]]],[420,5,[[421,6],[424,6]]],[432,5,[[433,6],[436,6,[[441,7],[442,7]]]]],[445,5,[[446,6],[449,6,[[454,7],[455,7]]]]],[460,5,[[461,6]]]]]]],[501,3,[[502,4],[505,4,[[506,5,[[507,6],[510,6]]],[519,5,[[520,6],[523,6]]],[532,5,[[533,6],[536,6]]]]]]],[549,3,[[550,4],[553,4,[[554,5,[[555,6],[558,6]]],[566,5,[[567,6],[570,6]]],[579,5,[[580,6],[583,6]]]]],[594,4,[[595,5,[[596,6],[599,5,[[600,6,[[601,7],[608,7]]]]]]]]],[640,4,[[641,5,[[642,6]]]]],[654,4,[[655,5],[661,5]]],[667,4,[[668,5,[[669,6],[676,6],[679,6,[[680,7,[[681,8]]],[683,7,[[685,8]]]]]]]]]]],[710,3,[[711,4],[718,4]]]]]]]]),ra=E(T("<!> <!>",1),p[x],[]);function p(Qr,cr){kt(new.target),Tt(cr,!1,p);const[Vr,Xr]=At(),m=()=>(It(Kr,"eagerCache"),Pt(Kr,"$eagerCache",Vr)),A=c();let r=jt(cr,"pool",8);const Ue=$t();let le=c(!1),te=c(""),P=c(""),U=c([]),ze=c(!1),X=c(!1),Y=null,ue=c(r().image||""),pe=c(r().flavor||""),B=c(r().max_runners),L=c(r().min_idle_runners),fe=c(r().runner_bootstrap_timeout),ce=c(r().priority),ge=c(r().runner_prefix||""),z=c(r().os_type||"linux"),ae=c(r().os_arch||"amd64"),be=c(r()["github-runner-group"]||""),ve=c(r().enabled),ie=c(r().enable_shell??!1),j=c((r().tags||[]).map(a=>a.name||"").filter(Boolean)),Z=c(""),D=c("{}"),I=c(r().template_id);function Yr(a){if(a.repo_id){const t=m().repositories.find(u=>s(u.id,a.repo_id));return t?`${t.owner}/${t.name}`:"Unknown Entity"}if(a.org_id){const t=m().organizations.find(u=>s(u.id,a.org_id));return t&&t.name?t.name:"Unknown Entity"}if(a.enterprise_id){const t=m().enterprises.find(u=>s(u.id,a.enterprise_id));return t&&t.name?t.name:"Unknown Entity"}return"Unknown Entity"}function gr(a){return a.repo_id?"Repository":a.org_id?"Organization":a.enterprise_id?"Enterprise":"Unknown"}function je(){if(r().endpoint?.endpoint_type)return r().endpoint.endpoint_type;if(r().repo_id){const a=m().repositories.find(t=>s(t.id,r().repo_id));if(a?.endpoint?.endpoint_type)return a.endpoint.endpoint_type}if(r().org_id){const a=m().organizations.find(t=>s(t.id,r().org_id));if(a?.endpoint?.endpoint_type)return a.endpoint.endpoint_type}if(r().enterprise_id){const a=m().enterprises.find(t=>s(t.id,r().enterprise_id));if(a?.endpoint?.endpoint_type)return a.endpoint.endpoint_type}return null}function Zr(){return r().repo_id?m().repositories.find(t=>s(t.id,r().repo_id))?.agent_mode??!1:r().org_id?m().organizations.find(t=>s(t.id,r().org_id))?.agent_mode??!1:r().enterprise_id?m().enterprises.find(t=>s(t.id,r().enterprise_id))?.agent_mode??!1:!1}function Ae(a){if(s(a.operation,"update",!1))return;const t=a.payload;if(r().repo_id&&s(t.id,r().repo_id)){const u=m().repositories.find($=>s($.id,r().repo_id));u&&(Object.assign(u,t),"agent_mode"in t&&l(A,t.agent_mode??!1))}else if(r().org_id&&s(t.id,r().org_id)){const u=m().organizations.find($=>s($.id,r().org_id));u&&(Object.assign(u,t),"agent_mode"in t&&l(A,t.agent_mode??!1))}else if(r().enterprise_id&&s(t.id,r().enterprise_id)){const u=m().enterprises.find($=>s($.id,r().enterprise_id));u&&(Object.assign(u,t),"agent_mode"in t&&l(A,t.agent_mode??!1))}}async function Pe(a){try{if(r().repo_id){(await Re(Oe.updateRepository(r().repo_id,a)))();const t=m().repositories.find(u=>s(u.id,r().repo_id));t&&Object.assign(t,a)}else if(r().org_id){(await Re(Oe.updateOrganization(r().org_id,a)))();const t=m().organizations.find(u=>s(u.id,r().org_id));t&&Object.assign(t,a)}else if(r().enterprise_id){(await Re(Oe.updateEnterprise(r().enterprise_id,a)))();const t=m().enterprises.find(u=>s(u.id,r().enterprise_id));t&&Object.assign(t,a)}l(X,!1)}catch(t){throw t}}function et(){return r().repo_id?m().repositories.find(a=>s(a.id,r().repo_id))||null:r().org_id?m().organizations.find(a=>s(a.id,r().org_id))||null:r().enterprise_id&&m().enterprises.find(a=>s(a.id,r().enterprise_id))||null}async function br(){try{l(ze,!0);const a=je();if(!a){l(U,[]);return}if(l(U,(await Re(Oe.listTemplates(e(z),void 0,a)))()),!e(I)||!e(U).find(t=>s(t.id,e(I)))){const t=e(U).find(u=>s(u.owner_id,"system"));t?l(I,t.id):e(U).length>0&&l(I,e(U)[0].id)}}catch(a){l(te,Hr(a))}finally{l(ze,!1)}}Mt(()=>{if(r().extra_specs)try{if(s(typeof r().extra_specs,"object"))l(D,JSON.stringify(r().extra_specs,null,2));else{const a=JSON.parse(r().extra_specs);l(D,JSON.stringify(a,null,2))}}catch{l(D,r().extra_specs||"{}")}br(),r().repo_id?Y=fr.subscribeToEntity("repository",["update"],Ae):r().org_id?Y=fr.subscribeToEntity("organization",["update"],Ae):r().enterprise_id&&(Y=fr.subscribeToEntity("enterprise",["update"],Ae))}),St(()=>{Y&&(Y(),Y=null)});function vr(){e(Z).trim()&&!e(j).includes(e(Z).trim())&&(l(j,[...e(j),e(Z).trim()]),l(Z,""))}function rt(a){l(j,e(j).filter((t,u)=>s(u,a,!1)))}function tt(a){s(a.key,"Enter")&&(a.preventDefault(),vr())}async function at(){try{if(l(le,!0),l(te,""),e(P))throw new Error(e(P));let a={};if(e(D).trim())try{a=JSON.parse(e(D))}catch{throw new Error("Invalid JSON in extra specs")}const t={image:s(e(ue),r().image,!1)?e(ue):void 0,flavor:s(e(pe),r().flavor,!1)?e(pe):void 0,max_runners:s(e(B),r().max_runners,!1)?e(B):void 0,min_idle_runners:s(e(L),r().min_idle_runners,!1)?e(L):void 0,runner_bootstrap_timeout:s(e(fe),r().runner_bootstrap_timeout,!1)?e(fe):void 0,priority:s(e(ce),r().priority,!1)?e(ce):void 0,runner_prefix:s(e(ge),r().runner_prefix,!1)?e(ge):void 0,os_type:s(e(z),r().os_type,!1)?e(z):void 0,os_arch:s(e(ae),r().os_arch,!1)?e(ae):void 0,"github-runner-group":s(e(be),r()["github-runner-group"],!1)&&e(be)||void 0,enabled:s(e(ve),r().enabled,!1)?e(ve):void 0,enable_shell:s(e(ie),r().enable_shell,!1)?e(ie):void 0,tags:s(JSON.stringify(e(j)),JSON.stringify((r().tags||[]).map(u=>u.name||"").filter(Boolean)),!1)?e(j):void 0,extra_specs:s(e(D).trim(),JSON.stringify(r().extra_specs||{},null,2).trim(),!1)?a:void 0,template_id:s(e(I),r().template_id,!1)?e(I):void 0};Object.keys(t).forEach(u=>{s(t[u],void 0)&&delete t[u]}),Ue("submit",t)}catch(a){l(te,Hr(a))}finally{l(le,!1)}}Se(()=>{},()=>{l(A,Zr())}),Se(()=>e(A),()=>{e(A)||l(ie,!1)}),Se(()=>e(z),()=>{e(z)&&br()}),Se(()=>(e(L),e(B)),()=>{s(e(L),null,!1)&&s(e(L),void 0,!1)&&s(e(B),null,!1)&&s(e(B),void 0,!1)&&e(L)>e(B)?l(P,"Min idle runners cannot be greater than max runners"):l(P,"")}),Rt(),Et();var mr=ra(),yr=V(mr);g(()=>Ct(yr,{$$events:{close:()=>Ue("close")},children:Jt(p,(a,t)=>{var u=ea(),$=d(u),me=d($),oe=d(me);o(me),o($);var ee=n($,2),ye=d(ee);{var Ie=i=>{var f=Ft(),h=d(f),M=d(h,!0);o(h),o(f),w(()=>R(M,e(te))),v(i,f)};g(()=>_(ye,i=>{e(te)&&i(Ie)}),"if",p,373,3)}var _e=n(ye,2);{var G=i=>{var f=qt(),h=d(f),M=d(h,!0);o(h),o(f),w(()=>R(M,e(P))),v(i,f)};g(()=>_(_e,i=>{e(P)&&i(G)}),"if",p,379,3)}var F=n(_e,2),xe=n(d(F),2),ne=d(xe),he=n(d(ne),2),q=d(he,!0);o(he),o(ne);var W=n(ne,2),ke=n(d(W),2),Je=d(ke);o(ke),o(W),o(xe),o(F);var H=n(F,2),we=n(d(H),2),Ne=d(we),_r=n(d(Ne),2);O(_r),o(Ne);var Ce=n(Ne,2),xr=n(d(Ce),2);O(xr),o(Ce);var Be=n(Ce,2),Le=n(d(Be),2);w(()=>{e(z),sr(()=>{})});var De=d(Le);De.value=De.__value="linux";var hr=n(De);hr.value=hr.__value="windows",o(Le),o(Be);var Ge=n(Be,2),Fe=n(d(Ge),2);w(()=>{e(ae),sr(()=>{})});var qe=d(Fe);qe.value=qe.__value="amd64";var kr=n(qe);kr.value=kr.__value="arm64",o(Fe),o(Ge);var wr=n(Ge,2),dt=n(d(wr),2);{var st=i=>{var f=Wt();v(i,f)},lt=i=>{var f=se(),h=V(f);{var M=k=>{var J=Kt(),S=V(J);w(()=>{e(I),sr(()=>{e(U)})}),g(()=>Dr(S,5,()=>e(U),Gr,(K,y)=>{var Q=Ht(),Nr=d(Q),xt=n(Nr);{var ht=dr=>{var Br=Lr();w(()=>R(Br,`- ${e(y),b(()=>e(y).description)??""}`)),v(dr,Br)};g(()=>_(xt,dr=>{e(y),b(()=>e(y).description)&&dr(ht)}),"if",p,478,10)}o(Q);var Cr={};w(()=>{R(Nr,`${e(y),b(()=>e(y).name)??""} ${e(y),b(()=>s(e(y).owner_id,"system")?"(System)":"")??""} `),Cr!==(Cr=(e(y),b(()=>e(y).id)))&&(Q.value=(Q.__value=(e(y),b(()=>e(y).id)))??"")}),v(K,Q)}),"each",p,475,8),o(S);var $e=n(S,2),Me=d($e);o($e),w(K=>R(Me,`Templates define how the runner software is installed and configured.
								Showing templates for ${K??""} ${e(z)??""}.`),[()=>b(je)]),ur(S,()=>e(I),K=>l(I,K)),v(k,J)},de=k=>{var J=Qt(),S=d(J),$e=d(S);o(S);var Me=n(S,2),K=d(Me);lr(),o(Me),o(J),w((y,Q)=>{R($e,`No templates found for ${y??""} ${e(z)??""}.`),Fr(K,"href",Q)},[()=>b(je),()=>(N(qr),b(()=>qr("/templates")))]),v(k,J)};g(()=>_(h,k=>{e(U),b(()=>e(U).length>0)?k(M):k(de,!1)},!0),"if",p,469,6)}v(i,f)};g(()=>_(dt,i=>{e(ze)?i(st):i(lt,!1)}),"if",p,464,6)}o(wr),o(we),o(H);var We=n(H,2),Er=n(d(We),2),He=d(Er),Ke=n(d(He),2);O(Ke),o(He);var Qe=n(He,2),Ve=n(d(Qe),2);O(Ve),o(Qe);var Tr=n(Qe,2),$r=n(d(Tr),2);O($r),o(Tr),o(Er),o(We);var Xe=n(We,2),Ye=n(d(Xe),2),Ze=d(Ye),Mr=n(d(Ze),2);O(Mr),o(Ze);var er=n(Ze,2),Sr=n(d(er),2);O(Sr),o(er);var Rr=n(er,2),Or=n(d(Rr),2);O(Or),o(Rr),o(Ye);var rr=n(Ye,2),Ur=d(rr),zr=n(d(Ur),2),tr=d(zr),Ee=d(tr);O(Ee);var ut=n(Ee,2);o(tr);var pt=n(tr,2);{var ft=i=>{var f=Xt();g(()=>Dr(f,5,()=>e(j),Gr,(h,M,de)=>{var k=Vt(),J=d(k),S=n(J);o(k),w(()=>{R(J,`${e(M)??""} `),Fr(S,"aria-label",`Remove tag ${e(M)??""}`)}),re("click",S,()=>rt(de)),v(h,k)}),"each",p,618,8),o(f),v(i,f)};g(()=>_(pt,i=>{e(j),b(()=>e(j).length>0)&&i(ft)}),"if",p,616,6)}o(zr),o(Ur),o(rr);var ar=n(rr,2),jr=d(ar),ct=n(d(jr),2);g(()=>Bt(ct,{rows:4,placeholder:"{}",get value(){return e(D)},set value(i){l(D,i)},$$legacy:!0}),"component",p,645,5,{componentTag:"JsonEditor"}),o(jr),o(ar);var ir=n(ar,2),Ar=d(ir);O(Ar),lr(2),o(ir);var Pr=n(ir,2),or=d(Pr),Te=d(or);O(Te);var gt=n(Te,2);lr(2),o(or);var bt=n(or,2);{var vt=i=>{var f=Yt(),h=n(d(f),2),M=d(h),de=n(M);o(h),o(f),w(k=>R(M,`Shell access requires agent mode to be enabled on the ${k??""}. `),[()=>(N(r()),b(()=>gr(r()).toLowerCase()))]),re("click",de,()=>l(X,!0)),v(i,f)};g(()=>_(bt,i=>{e(A)||i(vt)}),"if",p,689,5)}o(Pr),o(Xe);var Ir=n(Xe,2),Jr=d(Ir),nr=n(Jr,2),mt=d(nr);{var yt=i=>{var f=Zt();v(i,f)},_t=i=>{var f=Lr("Update Pool");v(i,f)};g(()=>_(mt,i=>{e(le)?i(yt):i(_t,!1)}),"if",p,723,5)}o(nr),o(Ir),o(ee),o(u),w((i,f)=>{R(oe,`Update Pool ${N(r()),b(()=>r().id)??""}`),R(q,(N(r()),b(()=>r().provider_name))),R(Je,`${i??""}: ${f??""}`),pr(Ke,1,`w-full px-3 py-2 border ${e(P)?"border-red-300 dark:border-red-500":"border-gray-300 dark:border-gray-600"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white`),pr(Ve,1,`w-full px-3 py-2 border ${e(P)?"border-red-300 dark:border-red-500":"border-gray-300 dark:border-gray-600"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white`),Te.disabled=!e(A),pr(gt,1,`ml-2 block text-sm font-medium text-gray-700 dark:text-gray-300 ${e(A)?"":"opacity-50"}`),nr.disabled=e(le)||s(e(P),"",!1)},[()=>(N(r()),b(()=>gr(r()))),()=>(N(r()),b(()=>Yr(r())))]),C(_r,()=>e(ue),i=>l(ue,i)),C(xr,()=>e(pe),i=>l(pe,i)),ur(Le,()=>e(z),i=>l(z,i)),ur(Fe,()=>e(ae),i=>l(ae,i)),C(Ke,()=>e(L),i=>l(L,i)),C(Ve,()=>e(B),i=>l(B,i)),C($r,()=>e(fe),i=>l(fe,i)),C(Mr,()=>e(ge),i=>l(ge,i)),C(Sr,()=>e(ce),i=>l(ce,i)),C(Or,()=>e(be),i=>l(be,i)),C(Ee,()=>e(Z),i=>l(Z,i)),re("keydown",Ee,tt),re("click",ut,vr),Wr(Ar,()=>e(ve),i=>l(ve,i)),Wr(Te,()=>e(ie),i=>l(ie,i)),re("click",Jr,()=>Ue("close")),re("submit",ee,Nt(at)),v(a,u)}),$$slots:{default:!0}}),"component",p,364,0,{componentTag:"Modal"});var it=n(yr,2);{var ot=a=>{const t=Ut(zt(()=>b(et)),"entity");e(t);var u=se(),$=V(u);{var me=oe=>{var ee=se(),ye=V(ee);{var Ie=G=>{g(()=>Lt(G,{get repository(){return e(t)},$$events:{close:()=>l(X,!1),submit:F=>Pe(F.detail)}}),"component",p,742,3,{componentTag:"UpdateRepositoryModal"})},_e=G=>{var F=se(),xe=V(F);{var ne=q=>{g(()=>Dt(q,{get organization(){return e(t)},$$events:{close:()=>l(X,!1),submit:W=>Pe(W.detail)}}),"component",p,748,3,{componentTag:"UpdateOrganizationModal"})},he=q=>{var W=se(),ke=V(W);{var Je=H=>{g(()=>Gt(H,{get enterprise(){return e(t)},$$events:{close:()=>l(X,!1),submit:we=>Pe(we.detail)}}),"component",p,754,3,{componentTag:"UpdateEnterpriseModal"})};g(()=>_(ke,H=>{N(r()),b(()=>r().enterprise_id)&&H(Je)},!0),"if",p,753,2)}v(q,W)};g(()=>_(xe,q=>{N(r()),b(()=>r().org_id)?q(ne):q(he,!1)},!0),"if",p,747,2)}v(G,F)};g(()=>_(ye,G=>{N(r()),b(()=>r().repo_id)?G(Ie):G(_e,!1)}),"if",p,741,2)}v(oe,ee)};g(()=>_($,oe=>{e(t)&&oe(me)}),"if",p,740,1)}v(a,u)};g(()=>_(it,a=>{e(X)&&a(ot)}),"if",p,738,0)}v(Qr,mr);var nt=Ot({...wt()});return Xr(),nt}export{p as U};
