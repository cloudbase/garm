import{c as dt,a as j,s as E,b as c,t as re,d as Q,e as ir,l as nt,f as I}from"./CxOx-TIJ.js";import{i as lt}from"./3NxSoY2_.js";import{p as ut,B as pt,m as v,o as ft,i as n,j as l,x as ct,l as Se,g as e,b as gt,f as P,d as b,c as s,r as i,s as o,t as k,u as g,h as T,v as or,w as sr,a as vt,n as Ee,y as bt,e as mt,F as R}from"./DzFKsO_V.js";import{p as _t,i as x,s as yt,a as xt,v as ht}from"./B_jyf0qs.js";import{e as kt,i as wt}from"./CdXRaxkX.js";import{w as St}from"./DoJxysSt.js";import{r as A,b as dr,d as Et,c as Ir,s as nr,g as Te}from"./BguOOs3x.js";import{b as W,a as Jr}from"./BVM1034P.js";import{p as Tt}from"./CdEA5IGF.js";import{M as Mt}from"./Pgjt70l7.js";import{e as Nr}from"./BZiHL9L3.js";import{J as Rt,U as Ot,a as $t,b as Ut}from"./BMieCrfV.js";import{e as Cr}from"./Penjr-j0.js";import{w as lr}from"./DSHGoHxX.js";u[R]="src/lib/components/UpdateScaleSetModal.svelte";var zt=j(I('<div class="rounded-md bg-red-50 dark:bg-red-900 p-4"><p class="text-sm font-medium text-red-800 dark:text-red-200"> </p></div>'),u[R],[[332,4,[[333,5]]]]),At=j(I('<div class="rounded-md bg-yellow-50 dark:bg-yellow-900 p-4"><p class="text-sm font-medium text-yellow-800 dark:text-yellow-200"> </p></div>'),u[R],[[338,4,[[339,5]]]]),jt=j(I('<div class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 flex items-center"><div class="animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2"></div> <span class="text-sm text-gray-600 dark:text-gray-400">Loading templates...</span></div>'),u[R],[[440,7,[[441,8],[442,8]]]]),It=j(I("<option> <!></option>"),u[R],[[451,9]]),Jt=j(I('<select id="template" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"></select> <p class="mt-1 text-xs text-gray-500 dark:text-gray-400"> </p>',1),u[R],[[445,7],[457,7]]),Nt=j(I('<div class="w-full px-3 py-2 border border-yellow-300 dark:border-yellow-600 rounded-md bg-yellow-50 dark:bg-yellow-900/20 text-yellow-800 dark:text-yellow-200"><p class="text-sm"> </p> <p class="text-xs mt-1"><a class="text-yellow-700 dark:text-yellow-300 hover:underline">Create a template first</a> or proceed without a template to use default behavior.</p></div>'),u[R],[[462,7,[[463,8],[464,8,[[465,9]]]]]]),Ct=j(I('<div class="ml-6 flex items-start space-x-2 text-xs text-yellow-700 dark:text-yellow-400"><svg class="w-4 h-4 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg> <span> <button type="button" class="underline hover:text-yellow-800 dark:hover:text-yellow-300 cursor-pointer">Enable agent mode</button></span></div>'),u[R],[[606,6,[[607,7,[[608,8]]],[610,7,[[612,8]]]]]]),Pt=j(I('<div class="flex items-center"><div class="animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"></div> Updating...</div>'),u[R],[[640,6,[[641,7]]]]),Gt=j(I('<div class="max-w-6xl w-full max-h-[90vh] overflow-y-auto"><div class="px-6 py-4 border-b border-gray-200 dark:border-gray-700"><h2 class="text-xl font-semibold text-gray-900 dark:text-white"> </h2></div> <form class="p-6 space-y-6"><!> <!> <div class="bg-gray-50 dark:bg-gray-900 p-4 rounded-lg"><h3 class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Scale Set Information</h3> <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm"><div class="flex"><span class="text-gray-500 dark:text-gray-400 w-20 flex-shrink-0">Provider:</span> <span class="text-gray-900 dark:text-white"> </span></div> <div class="flex"><span class="text-gray-500 dark:text-gray-400 w-16 flex-shrink-0">Entity:</span> <span class="text-gray-900 dark:text-white"><!></span></div></div></div> <div><label for="name" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Name</label> <input id="name" type="text" placeholder="e.g., my-scale-set" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"/></div> <div class="space-y-4"><h3 class="text-lg font-medium text-gray-900 dark:text-white border-b border-gray-200 dark:border-gray-700 pb-2">Image & OS Configuration</h3> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><label for="image" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Image</label> <input id="image" type="text" placeholder="e.g., ubuntu:22.04" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"/></div> <div><label for="flavor" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Flavor</label> <input id="flavor" type="text" placeholder="e.g., default" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"/></div> <div><label for="osType" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">OS Type</label> <select id="osType" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"><option>Linux</option><option>Windows</option></select></div> <div><label for="osArch" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Architecture</label> <select id="osArch" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"><option>AMD64</option><option>ARM64</option></select></div> <div class="col-span-2"><label for="template" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Runner Install Template</label> <!></div></div></div> <div class="space-y-4"><h3 class="text-lg font-medium text-gray-900 dark:text-white border-b border-gray-200 dark:border-gray-700 pb-2">Runner Limits & Timing</h3> <div class="grid grid-cols-1 md:grid-cols-3 gap-4"><div><label for="minIdleRunners" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Min Idle Runners</label> <input id="minIdleRunners" type="number" min="0" placeholder="0"/></div> <div><label for="maxRunners" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Max Runners</label> <input id="maxRunners" type="number" min="1" placeholder="10"/></div> <div><label for="bootstrapTimeout" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Bootstrap Timeout (min)</label> <input id="bootstrapTimeout" type="number" min="1" placeholder="20" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"/></div></div></div> <div class="space-y-4"><h3 class="text-lg font-medium text-gray-900 dark:text-white border-b border-gray-200 dark:border-gray-700 pb-2">Advanced Settings</h3> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><label for="runnerPrefix" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Runner Prefix</label> <input id="runnerPrefix" type="text" placeholder="garm" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"/></div> <div><label for="githubRunnerGroup" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">GitHub Runner Group (optional)</label> <input id="githubRunnerGroup" type="text" placeholder="Default group" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"/></div></div> <div><fieldset><legend class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Extra Specs (JSON)</legend> <!></fieldset></div> <div class="flex items-center"><input id="enabled" type="checkbox" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600 rounded"/> <label for="enabled" class="ml-2 block text-sm text-gray-700 dark:text-gray-300">Scale set enabled</label></div> <div class="space-y-2"><div class="flex items-center"><input id="enableShell" type="checkbox" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600 rounded disabled:opacity-50 disabled:cursor-not-allowed"/> <label for="enableShell">Enable Shell</label> <div class="ml-2 relative group"><svg class="w-4 h-4 text-gray-400 cursor-help" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <div class="absolute left-full top-1/2 transform -translate-y-1/2 ml-2 w-80 p-3 bg-gray-900 text-white text-xs rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">This enables remote shell in the GARM agent, allowing users to connect via garm-cli or web UI using websockets. <div class="absolute right-full top-1/2 transform -translate-y-1/2 border-4 border-transparent border-r-gray-900"></div></div></div></div> <!></div></div> <div class="flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700"><button type="button" class="px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 cursor-pointer">Cancel</button> <button type="submit" class="px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer"><!></button></div></form></div>'),u[R],[[323,1,[[324,2,[[325,3]]],[330,2,[[344,3,[[345,4],[346,4,[[347,5,[[348,6],[349,6]]],[351,5,[[352,6],[353,6]]]]]]],[364,3,[[365,4],[368,4]]],[378,3,[[379,4],[382,4,[[383,5,[[384,6],[387,6]]],[395,5,[[396,6],[399,6]]],[407,5,[[408,6],[411,6,[[416,7],[417,7]]]]],[420,5,[[421,6],[424,6,[[429,7],[430,7]]]]],[435,5,[[436,6]]]]]]],[476,3,[[477,4],[480,4,[[481,5,[[482,6],[485,6]]],[494,5,[[495,6],[498,6]]],[507,5,[[508,6],[511,6]]]]]]],[524,3,[[525,4],[528,4,[[529,5,[[530,6],[533,6]]],[541,5,[[542,6],[545,6]]]]],[556,4,[[557,5,[[558,6]]]]],[570,4,[[571,5],[577,5]]],[583,4,[[584,5,[[585,6],[592,6],[595,6,[[596,7,[[597,8]]],[599,7,[[601,8]]]]]]]]]]],[626,3,[[627,4],[634,4]]]]]]]]),Lt=j(I("<!> <!>",1),u[R],[]);function u(Pr,ur){dt(new.target),ut(ur,!1,u);const[Gr,Lr]=yt(),_=()=>(ht(Cr,"eagerCache"),xt(Cr,"$eagerCache",Gr)),J=v();let r=_t(ur,"scaleSet",8);const Me=pt();let le=v(!1),te=v(""),N=v(""),O=v([]),Re=v(!1),V=v(!1),X=null,ue=v(r().name||""),pe=v(r().image||""),fe=v(r().flavor||""),G=v(r().max_runners),L=v(r().min_idle_runners),ce=v(r().runner_bootstrap_timeout),ge=v(r().runner_prefix||""),$=v(r().os_type||"linux"),ae=v(r().os_arch||"amd64"),ve=v(r()["github-runner-group"]||""),be=v(r().enabled),ie=v(r().enable_shell??!1),B=v("{}"),C=v(r().template_id);function Oe(){if(r().endpoint?.endpoint_type)return r().endpoint.endpoint_type;if(r().repo_id){const d=_().repositories.find(a=>n(a.id,r().repo_id));if(d?.endpoint?.endpoint_type)return d.endpoint.endpoint_type}if(r().org_id){const d=_().organizations.find(a=>n(a.id,r().org_id));if(d?.endpoint?.endpoint_type)return d.endpoint.endpoint_type}if(r().enterprise_id){const d=_().enterprises.find(a=>n(a.id,r().enterprise_id));if(d?.endpoint?.endpoint_type)return d.endpoint.endpoint_type}return null}function Br(){return r().repo_id?_().repositories.find(a=>n(a.id,r().repo_id))?.agent_mode??!1:r().org_id?_().organizations.find(a=>n(a.id,r().org_id))?.agent_mode??!1:r().enterprise_id?_().enterprises.find(a=>n(a.id,r().enterprise_id))?.agent_mode??!1:!1}function Dr(){return r().repo_id?"repository":r().org_id?"organization":r().enterprise_id?"enterprise":"entity"}function $e(d){if(n(d.operation,"update",!1))return;const a=d.payload;if(r().repo_id&&n(a.id,r().repo_id)){const p=_().repositories.find(M=>n(M.id,r().repo_id));p&&(Object.assign(p,a),"agent_mode"in a&&l(J,a.agent_mode??!1))}else if(r().org_id&&n(a.id,r().org_id)){const p=_().organizations.find(M=>n(M.id,r().org_id));p&&(Object.assign(p,a),"agent_mode"in a&&l(J,a.agent_mode??!1))}else if(r().enterprise_id&&n(a.id,r().enterprise_id)){const p=_().enterprises.find(M=>n(M.id,r().enterprise_id));p&&(Object.assign(p,a),"agent_mode"in a&&l(J,a.agent_mode??!1))}}async function Ue(d){try{if(r().repo_id){(await Ee(Te.updateRepository(r().repo_id,d)))();const a=_().repositories.find(p=>n(p.id,r().repo_id));a&&Object.assign(a,d)}else if(r().org_id){(await Ee(Te.updateOrganization(r().org_id,d)))();const a=_().organizations.find(p=>n(p.id,r().org_id));a&&Object.assign(a,d)}else if(r().enterprise_id){(await Ee(Te.updateEnterprise(r().enterprise_id,d)))();const a=_().enterprises.find(p=>n(p.id,r().enterprise_id));a&&Object.assign(a,d)}l(V,!1)}catch(a){throw a}}function Fr(){return r().repo_id?_().repositories.find(d=>n(d.id,r().repo_id))||null:r().org_id?_().organizations.find(d=>n(d.id,r().org_id))||null:r().enterprise_id&&_().enterprises.find(d=>n(d.id,r().enterprise_id))||null}async function pr(){try{l(Re,!0);const d=Oe();if(!d){l(O,[]);return}if(l(O,(await Ee(Te.listTemplates(e($),void 0,d)))()),!e(C)||!e(O).find(a=>n(a.id,e(C)))){const a=e(O).find(p=>n(p.owner_id,"system"));a?l(C,a.id):e(O).length>0&&l(C,e(O)[0].id)}}catch(d){l(te,Nr(d))}finally{l(Re,!1)}}ft(()=>{if(r().extra_specs)try{if(n(typeof r().extra_specs,"object"))l(B,JSON.stringify(r().extra_specs,null,2));else{const d=JSON.parse(r().extra_specs);l(B,JSON.stringify(d,null,2))}}catch{l(B,r().extra_specs||"{}")}pr(),r().repo_id?X=lr.subscribeToEntity("repository",["update"],$e):r().org_id?X=lr.subscribeToEntity("organization",["update"],$e):r().enterprise_id&&(X=lr.subscribeToEntity("enterprise",["update"],$e))}),ct(()=>{X&&(X(),X=null)});async function qr(){try{if(l(le,!0),l(te,""),e(N))throw new Error(e(N));let d={};if(e(B).trim())try{d=JSON.parse(e(B))}catch{throw new Error("Invalid JSON in extra specs")}const a={name:n(e(ue),r().name,!1)?e(ue):void 0,image:n(e(pe),r().image,!1)?e(pe):void 0,flavor:n(e(fe),r().flavor,!1)?e(fe):void 0,max_runners:n(e(G),r().max_runners,!1)?e(G):void 0,min_idle_runners:n(e(L),r().min_idle_runners,!1)?e(L):void 0,runner_bootstrap_timeout:n(e(ce),r().runner_bootstrap_timeout,!1)?e(ce):void 0,runner_prefix:n(e(ge),r().runner_prefix,!1)?e(ge):void 0,os_type:n(e($),r().os_type,!1)?e($):void 0,os_arch:n(e(ae),r().os_arch,!1)?e(ae):void 0,"github-runner-group":n(e(ve),r()["github-runner-group"],!1)&&e(ve)||void 0,enabled:n(e(be),r().enabled,!1)?e(be):void 0,enable_shell:n(e(ie),r().enable_shell,!1)?e(ie):void 0,extra_specs:n(e(B).trim(),JSON.stringify(r().extra_specs||{},null,2).trim(),!1)?d:void 0,template_id:n(e(C),r().template_id,!1)?e(C):void 0};Object.keys(a).forEach(p=>{n(a[p],void 0)&&delete a[p]}),Me("submit",a)}catch(d){l(te,Nr(d))}finally{l(le,!1)}}Se(()=>{},()=>{l(J,Br())}),Se(()=>e(J),()=>{e(J)||l(ie,!1)}),Se(()=>e($),()=>{e($)&&pr()}),Se(()=>(e(L),e(G)),()=>{n(e(L),null,!1)&&n(e(L),void 0,!1)&&n(e(G),null,!1)&&n(e(G),void 0,!1)&&e(L)>e(G)?l(N,"Min idle runners cannot be greater than max runners"):l(N,"")}),gt(),lt();var fr=Lt(),cr=P(fr);b(()=>Mt(cr,{$$events:{close:()=>Me("close")},children:St(u,(d,a)=>{var p=Gt(),M=s(p),me=s(M),oe=s(me);i(me),i(M);var Y=o(M,2),_e=s(Y);{var ze=t=>{var f=zt(),w=s(f),U=s(w,!0);i(w),i(f),k(()=>E(U,e(te))),c(t,f)};b(()=>x(_e,t=>{e(te)&&t(ze)}),"if",u,331,3)}var ye=o(_e,2);{var D=t=>{var f=At(),w=s(f),U=s(w,!0);i(w),i(f),k(()=>E(U,e(N))),c(t,f)};b(()=>x(ye,t=>{e(N)&&t(D)}),"if",u,337,3)}var F=o(ye,2),xe=o(s(F),2),se=s(xe),he=o(s(se),2),q=s(he,!0);i(he),i(se);var H=o(se,2),ke=o(s(H),2),Ae=s(ke);{var de=t=>{var f=re();k(()=>E(f,`Repository: ${T(r()),g(()=>r().repo_name)??""}`)),c(t,f)},je=t=>{var f=Q(),w=P(f);{var U=y=>{var S=re();k(()=>E(S,`Organization: ${T(r()),g(()=>r().org_name)??""}`)),c(y,S)},ne=y=>{var S=Q(),z=P(S);{var Z=h=>{var m=re();k(()=>E(m,`Enterprise: ${T(r()),g(()=>r().enterprise_name)??""}`)),c(h,m)},ee=h=>{var m=re("Unknown Entity");c(h,m)};b(()=>x(z,h=>{T(r()),g(()=>r().enterprise_name)?h(Z):h(ee,!1)},!0),"if",u,356,7)}c(y,S)};b(()=>x(w,y=>{T(r()),g(()=>r().org_name)?y(U):y(ne,!1)},!0),"if",u,355,7)}c(t,f)};b(()=>x(Ae,t=>{T(r()),g(()=>r().repo_name)?t(de):t(je,!1)}),"if",u,354,7)}i(ke),i(H),i(xe),i(F);var Ie=o(F,2),gr=o(s(Ie),2);A(gr),i(Ie);var Je=o(Ie,2),vr=o(s(Je),2),Ne=s(vr),br=o(s(Ne),2);A(br),i(Ne);var Ce=o(Ne,2),mr=o(s(Ce),2);A(mr),i(Ce);var Pe=o(Ce,2),Ge=o(s(Pe),2);k(()=>{e($),or(()=>{})});var Le=s(Ge);Le.value=Le.__value="linux";var _r=o(Le);_r.value=_r.__value="windows",i(Ge),i(Pe);var Be=o(Pe,2),De=o(s(Be),2);k(()=>{e(ae),or(()=>{})});var Fe=s(De);Fe.value=Fe.__value="amd64";var yr=o(Fe);yr.value=yr.__value="arm64",i(De),i(Be);var xr=o(Be,2),Qr=o(s(xr),2);{var Vr=t=>{var f=jt();c(t,f)},Xr=t=>{var f=Q(),w=P(f);{var U=y=>{var S=Jt(),z=P(S);k(()=>{e(C),or(()=>{e(O)})}),b(()=>kt(z,5,()=>e(O),wt,(h,m)=>{var K=It(),zr=s(K),ot=o(zr);{var st=ar=>{var jr=re();k(()=>E(jr,`- ${e(m),g(()=>e(m).description)??""}`)),c(ar,jr)};b(()=>x(ot,ar=>{e(m),g(()=>e(m).description)&&ar(st)}),"if",u,453,10)}i(K);var Ar={};k(()=>{E(zr,`${e(m),g(()=>e(m).name)??""} ${e(m),g(()=>n(e(m).owner_id,"system")?"(System)":"")??""} `),Ar!==(Ar=(e(m),g(()=>e(m).id)))&&(K.value=(K.__value=(e(m),g(()=>e(m).id)))??"")}),c(h,K)}),"each",u,450,8),i(z);var Z=o(z,2),ee=s(Z);i(Z),k(h=>E(ee,`Templates define how the runner software is installed and configured.
								Showing templates for ${h??""} ${e($)??""}.`),[()=>g(Oe)]),dr(z,()=>e(C),h=>l(C,h)),c(y,S)},ne=y=>{var S=Nt(),z=s(S),Z=s(z);i(z);var ee=o(z,2),h=s(ee);sr(),i(ee),i(S),k((m,K)=>{E(Z,`No templates found for ${m??""} ${e($)??""}.`),Et(h,"href",K)},[()=>g(Oe),()=>(T(Ir),g(()=>Ir("/templates")))]),c(y,S)};b(()=>x(w,y=>{e(O),g(()=>e(O).length>0)?y(U):y(ne,!1)},!0),"if",u,444,6)}c(t,f)};b(()=>x(Qr,t=>{e(Re)?t(Vr):t(Xr,!1)}),"if",u,439,6)}i(xr),i(vr),i(Je);var qe=o(Je,2),hr=o(s(qe),2),We=s(hr),He=o(s(We),2);A(He),i(We);var Ke=o(We,2),Qe=o(s(Ke),2);A(Qe),i(Ke);var kr=o(Ke,2),wr=o(s(kr),2);A(wr),i(kr),i(hr),i(qe);var Ve=o(qe,2),Xe=o(s(Ve),2),Ye=s(Xe),Sr=o(s(Ye),2);A(Sr),i(Ye);var Er=o(Ye,2),Tr=o(s(Er),2);A(Tr),i(Er),i(Xe);var Ze=o(Xe,2),Mr=s(Ze),Yr=o(s(Mr),2);b(()=>Rt(Yr,{rows:4,placeholder:"{}",get value(){return e(B)},set value(t){l(B,t)},$$legacy:!0}),"component",u,561,5,{componentTag:"JsonEditor"}),i(Mr),i(Ze);var er=o(Ze,2),Rr=s(er);A(Rr),sr(2),i(er);var Or=o(er,2),rr=s(Or),we=s(rr);A(we);var Zr=o(we,2);sr(2),i(rr);var et=o(rr,2);{var rt=t=>{var f=Ct(),w=o(s(f),2),U=s(w),ne=o(U);i(w),i(f),k(y=>E(U,`Shell access requires agent mode to be enabled on the ${y??""}. `),[()=>g(Dr)]),ir("click",ne,()=>l(V,!0)),c(t,f)};b(()=>x(et,t=>{e(J)||t(rt)}),"if",u,605,5)}i(Or),i(Ve);var $r=o(Ve,2),Ur=s($r),tr=o(Ur,2),tt=s(tr);{var at=t=>{var f=Pt();c(t,f)},it=t=>{var f=re("Update Scale Set");c(t,f)};b(()=>x(tt,t=>{e(le)?t(at):t(it,!1)}),"if",u,639,5)}i(tr),i($r),i(Y),i(p),k(()=>{E(oe,`Update Scale Set ${T(r()),g(()=>r().name)??""}`),E(q,(T(r()),g(()=>r().provider_name))),nr(He,1,`w-full px-3 py-2 border ${e(N)?"border-red-300 dark:border-red-500":"border-gray-300 dark:border-gray-600"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white`),nr(Qe,1,`w-full px-3 py-2 border ${e(N)?"border-red-300 dark:border-red-500":"border-gray-300 dark:border-gray-600"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white`),we.disabled=!e(J),nr(Zr,1,`ml-2 block text-sm font-medium text-gray-700 dark:text-gray-300 ${e(J)?"":"opacity-50"}`),tr.disabled=e(le)||n(e(N),"",!1)}),W(gr,()=>e(ue),t=>l(ue,t)),W(br,()=>e(pe),t=>l(pe,t)),W(mr,()=>e(fe),t=>l(fe,t)),dr(Ge,()=>e($),t=>l($,t)),dr(De,()=>e(ae),t=>l(ae,t)),W(He,()=>e(L),t=>l(L,t)),W(Qe,()=>e(G),t=>l(G,t)),W(wr,()=>e(ce),t=>l(ce,t)),W(Sr,()=>e(ge),t=>l(ge,t)),W(Tr,()=>e(ve),t=>l(ve,t)),Jr(Rr,()=>e(be),t=>l(be,t)),Jr(we,()=>e(ie),t=>l(ie,t)),ir("click",Ur,()=>Me("close")),ir("submit",Y,Tt(qr)),c(d,p)}),$$slots:{default:!0}}),"component",u,322,0,{componentTag:"Modal"});var Wr=o(cr,2);{var Hr=d=>{const a=bt(mt(()=>g(Fr)),"entity");e(a);var p=Q(),M=P(p);{var me=oe=>{var Y=Q(),_e=P(Y);{var ze=D=>{b(()=>Ot(D,{get repository(){return e(a)},$$events:{close:()=>l(V,!1),submit:F=>Ue(F.detail)}}),"component",u,658,3,{componentTag:"UpdateRepositoryModal"})},ye=D=>{var F=Q(),xe=P(F);{var se=q=>{b(()=>$t(q,{get organization(){return e(a)},$$events:{close:()=>l(V,!1),submit:H=>Ue(H.detail)}}),"component",u,664,3,{componentTag:"UpdateOrganizationModal"})},he=q=>{var H=Q(),ke=P(H);{var Ae=de=>{b(()=>Ut(de,{get enterprise(){return e(a)},$$events:{close:()=>l(V,!1),submit:je=>Ue(je.detail)}}),"component",u,670,3,{componentTag:"UpdateEnterpriseModal"})};b(()=>x(ke,de=>{T(r()),g(()=>r().enterprise_id)&&de(Ae)},!0),"if",u,669,2)}c(q,H)};b(()=>x(xe,q=>{T(r()),g(()=>r().org_id)?q(se):q(he,!1)},!0),"if",u,663,2)}c(D,F)};b(()=>x(_e,D=>{T(r()),g(()=>r().repo_id)?D(ze):D(ye,!1)}),"if",u,657,2)}c(oe,Y)};b(()=>x(M,oe=>{e(a)&&oe(me)}),"if",u,656,1)}c(d,p)};b(()=>x(Wr,d=>{e(V)&&d(Hr)}),"if",u,654,0)}c(Pr,fr);var Kr=vt({...nt()});return Lr(),Kr}export{u as U};
