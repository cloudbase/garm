import{c as at,a as F,s as x,b,l as rt,f as G,t as kt,d as dt}from"./CxOx-TIJ.js";import{i as st}from"./3NxSoY2_.js";import{p as ot,c as e,r as t,s as r,d as v,h as m,u as s,w as pt,t as Y,a as nt,i as X,F as k,B as wt,f as lt,g as N}from"./DzFKsO_V.js";import{p as D,i as O,s as Ct,a as Tt,v as Pt}from"./B_jyf0qs.js";import{d as gt,c as ct,B as Et}from"./BguOOs3x.js";import{b as $,e as Bt}from"./JkzpcrZD.js";import{B as Q}from"./1CdJgrM6.js";import{w as It}from"./DoJxysSt.js";import{e as vt}from"./Penjr-j0.js";import{D as Nt,E as St,G as mt,S as Dt}from"./C2FKJqnN.js";import{e as Mt,i as At}from"./CdXRaxkX.js";import{b as Ut}from"./Dtavz0EF.js";V[k]="src/lib/components/EntityInformation.svelte";var jt=F(G('<div class="bg-white dark:bg-gray-800 shadow rounded-lg"><div class="px-4 py-5 sm:p-6"><h2 class="text-lg font-medium text-gray-900 dark:text-white mb-4"> </h2> <dl class="grid grid-cols-1 gap-x-4 gap-y-6 sm:grid-cols-2"><div><dt class="text-sm font-medium text-gray-500 dark:text-gray-400">ID</dt> <dd class="mt-1 text-sm text-gray-900 dark:text-white font-mono"> </dd></div> <div><dt class="text-sm font-medium text-gray-500 dark:text-gray-400">Created At</dt> <dd class="mt-1 text-sm text-gray-900 dark:text-white"> </dd></div> <div><dt class="text-sm font-medium text-gray-500 dark:text-gray-400">Updated At</dt> <dd class="mt-1 text-sm text-gray-900 dark:text-white"> </dd></div> <div><dt class="text-sm font-medium text-gray-500 dark:text-gray-400">Status</dt> <dd class="mt-1"><!></dd></div> <div><dt class="text-sm font-medium text-gray-500 dark:text-gray-400">Pool Balancer Type</dt> <dd class="mt-1 text-sm text-gray-900 dark:text-white"> </dd></div> <div><dt class="text-sm font-medium text-gray-500 dark:text-gray-400"> </dt> <dd class="mt-1 text-sm"><a target="_blank" rel="noopener noreferrer" class="text-blue-600 dark:text-blue-400 hover:text-blue-500 dark:hover:text-blue-300"> <svg class="inline w-3 h-3 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path></svg></a></dd></div></dl></div></div>'),V[k],[[63,0,[[64,1,[[65,2],[66,2,[[67,3,[[68,4],[69,4]]],[71,3,[[72,4],[73,4]]],[75,3,[[76,4],[77,4]]],[79,3,[[80,4],[81,4]]],[89,3,[[90,4],[91,4]]],[93,3,[[94,4],[95,4,[[96,5,[[98,6,[[99,7]]]]]]]]]]]]]]]]);function V(H,c){at(new.target),ot(c,!1,V);let a=D(c,"entity",8),f=D(c,"entityType",8);function U(){return`${f().charAt(0).toUpperCase()+f().slice(1)} Information`}function d(){if(!a().endpoint?.base_url)return"#";const n=a().endpoint.base_url.replace(/\/$/,"");switch(f()){case"repository":const et=a();return`${n}/${et.owner}/${a().name}`;case"organization":return`${n}/${a().name}`;case"enterprise":return`${n}/enterprises/${a().name}`;default:return"#"}}function M(){return`${f().charAt(0).toUpperCase()+f().slice(1)} URL`}function q(){const n=a().pool_balancing_type;if(!n||X(n,"")||X(n,"none"))return"Round Robin (default)";switch(n){case"roundrobin":return"Round Robin";case"pack":return"Pack";default:return n}}st();var p=jt(),y=e(p),w=e(y),A=e(w,!0);t(w);var C=r(w,2),i=e(C),_=r(e(i),2),T=e(_,!0);t(_),t(i);var u=r(i,2),j=r(e(u),2),L=e(j,!0);t(j),t(u);var P=r(u,2),R=r(e(P),2),W=e(R,!0);t(R),t(P);var E=r(P,2),o=r(e(E),2),l=e(o);{var B=n=>{v(()=>Q(n,{variant:"success",text:"Running"}),"component",V,83,6,{componentTag:"Badge"})},J=n=>{v(()=>Q(n,{variant:"error",text:"Stopped"}),"component",V,85,6,{componentTag:"Badge"})};v(()=>O(l,n=>{m(a()),s(()=>a().pool_manager_status?.running)?n(B):n(J,!1)}),"if",V,82,5)}t(o),t(E);var I=r(E,2),z=r(e(I),2),h=e(z,!0);t(z),t(I);var Z=r(I,2),K=e(Z),ut=e(K,!0);t(K);var it=r(K,2),tt=e(it),xt=e(tt);return pt(),t(tt),t(it),t(Z),t(C),t(y),t(p),Y((n,et,ft,yt,ht,_t,bt)=>{x(A,n),x(T,(m(a()),s(()=>a().id))),x(L,et),x(W,ft),x(h,yt),x(ut,ht),gt(tt,"href",_t),x(xt,`${bt??""} `)},[()=>s(U),()=>(m($),m(a()),s(()=>$(a().created_at))),()=>(m($),m(a()),s(()=>$(a().updated_at))),()=>s(q),()=>s(M),()=>s(d),()=>s(d)]),b(H,p),nt({...rt()})}S[k]="src/lib/components/PoolsSection.svelte";var Lt=F(G('<div class="p-6 text-center"><svg class="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg> <h3 class="mt-2 text-sm font-medium text-gray-900 dark:text-white">No pools configured</h3> <p class="mt-1 text-sm text-gray-500 dark:text-gray-400"> </p> <div class="mt-4"><!></div></div>'),S[k],[[98,3,[[99,4,[[100,5],[101,5]]],[103,4],[104,4],[105,4]]]]),Rt=F(G('<div class="bg-white dark:bg-gray-800 shadow rounded-lg"><div class="px-4 py-5 sm:p-6"><div class="flex items-center justify-between mb-4"><h2 class="text-lg font-medium text-gray-900 dark:text-white"> </h2> <a class="text-sm text-blue-600 dark:text-blue-400 hover:text-blue-500 dark:hover:text-blue-300">View all pools</a></div> <!></div></div>'),S[k],[[90,0,[[91,1,[[92,2,[[93,3],[94,3]]]]]]]]);function S(H,c){at(new.target),ot(c,!1,S);const[a,f]=Ct(),U=()=>(Pt(vt,"eagerCache"),Tt(vt,"$eagerCache",a));let d=D(c,"pools",8),M=D(c,"entityType",8),q=D(c,"entityId",8,""),p=D(c,"entityName",8,"");const y=wt();function w(){y("addPool",{entityType:M(),entityId:q(),entityName:p()})}const A=[{key:"id",title:"ID",flexible:!0,cellComponent:St,cellProps:{entityType:"pool",showId:!0,fontMono:!0}},{key:"image",title:"Image",flexible:!0,cellComponent:mt,cellProps:{field:"image",type:"code",showTitle:!0}},{key:"provider",title:"Provider",cellComponent:mt,cellProps:{field:"provider_name"}},{key:"status",title:"Status",cellComponent:Dt,cellProps:{statusType:"enabled"}}],C={entityType:"pool",primaryText:{field:"id",isClickable:!0,href:"/pools/{id}",useId:!0,isMonospace:!0},secondaryText:{field:"entity_name",computedValue:o=>Bt(o,U())},badges:[{type:"custom",value:o=>({variant:o.enabled?"success":"error",text:o.enabled?"Enabled":"Disabled"})}]};st();var i=Rt(),_=e(i),T=e(_),u=e(T),j=e(u);t(u);var L=r(u,2);t(T);var P=r(T,2);{var R=o=>{var l=Lt(),B=r(e(l),4),J=e(B);t(B);var I=r(B,2),z=e(I);v(()=>Et(z,{variant:"primary",size:"sm",$$events:{click:w},children:It(S,(h,Z)=>{pt();var K=kt("Add Pool");b(h,K)}),$$slots:{default:!0}}),"component",S,106,5,{componentTag:"Button"}),t(I),t(l),Y(()=>x(J,`No pools configured for this ${M()??""}.`)),b(o,l)},W=o=>{v(()=>Nt(o,{get columns(){return A},get data(){return d()},loading:!1,error:"",searchTerm:"",showSearch:!1,showPagination:!1,currentPage:1,get perPage(){return m(d()),s(()=>d().length)},totalPages:1,get totalItems(){return m(d()),s(()=>d().length)},itemName:"pools",emptyTitle:"No pools configured",get emptyMessage(){return`No pools configured for this ${M()??""}.`},emptyIconType:"cog",get mobileCardConfig(){return C}}),"component",S,116,3,{componentTag:"DataTable"})};v(()=>O(P,o=>{m(d()),s(()=>X(d().length,0))?o(R):o(W,!1)}),"if",S,96,2)}t(_),t(i),Y(o=>{x(j,`Pools (${m(d()),s(()=>d().length)??""})`),gt(L,"href",o)},[()=>(m(ct),s(()=>ct("/pools")))]),b(H,i);var E=nt({...rt()});return f(),E}g[k]="src/lib/components/EventsSection.svelte";var zt=F(G('<div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"><div class="flex justify-between items-start"><p class="text-sm text-gray-900 dark:text-white flex-1 mr-4"> </p> <div class="flex items-center space-x-2 flex-shrink-0"><!> <span class="text-xs text-gray-500 dark:text-gray-400"> </span></div></div></div>'),g[k],[[16,5,[[17,6,[[18,7],[19,7,[[27,8]]]]]]]]),$t=F(G('<div class="bg-white dark:bg-gray-800 shadow rounded-lg"><div class="px-4 py-5 sm:p-6"><h2 class="text-lg font-medium text-gray-900 dark:text-white mb-4">Events</h2> <div class="space-y-3 max-h-96 overflow-y-auto scroll-smooth"></div></div></div>'),g[k],[[11,1,[[12,2,[[13,3],[14,3]]]]]]),Vt=F(G('<div class="bg-white dark:bg-gray-800 shadow rounded-lg"><div class="px-4 py-5 sm:p-6"><h2 class="text-lg font-medium text-gray-900 dark:text-white mb-4">Events</h2> <div class="text-center py-8"><svg class="w-12 h-12 text-gray-400 dark:text-gray-500 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg> <p class="text-sm text-gray-500 dark:text-gray-400">No events available</p></div></div></div>'),g[k],[[36,1,[[37,2,[[38,3],[39,3,[[40,4,[[41,5]]],[43,4]]]]]]]]);function g(H,c){at(new.target),ot(c,!1,g);let a=D(c,"events",8),f=D(c,"eventsContainer",12,void 0);st();var U=dt(),d=lt(U);{var M=p=>{var y=$t(),w=e(y),A=r(e(w),2);v(()=>Mt(A,5,a,At,(C,i)=>{var _=zt(),T=e(_),u=e(T),j=e(u,!0);t(u);var L=r(u,2),P=e(L);{var R=l=>{v(()=>Q(l,{variant:"error",text:"Error"}),"component",g,21,9,{componentTag:"Badge"})},W=l=>{var B=dt(),J=lt(B);{var I=h=>{v(()=>Q(h,{variant:"warning",text:"Warning"}),"component",g,23,9,{componentTag:"Badge"})},z=h=>{v(()=>Q(h,{variant:"info",text:"Info"}),"component",g,25,9,{componentTag:"Badge"})};v(()=>O(J,h=>{N(i),s(()=>X((N(i).event_level||"info").toLowerCase(),"warning"))?h(I):h(z,!1)},!0),"if",g,22,8)}b(l,B)};v(()=>O(P,l=>{N(i),s(()=>X((N(i).event_level||"info").toLowerCase(),"error"))?l(R):l(W,!1)}),"if",g,20,8)}var E=r(P,2),o=e(E,!0);t(E),t(L),t(T),t(_),Y(l=>{x(j,(N(i),s(()=>N(i).message))),x(o,l)},[()=>(m($),N(i),s(()=>$(N(i).created_at)))]),b(C,_)}),"each",g,15,4),t(A),Ut(A,C=>f(C),()=>f()),t(w),t(y),b(p,y)},q=p=>{var y=Vt();b(p,y)};v(()=>O(d,p=>{m(a()),s(()=>a()&&a().length>0)?p(M):p(q,!1)}),"if",g,10,0)}return b(H,U),nt({...rt()})}export{V as E,S as P,g as a};
